var e=Object.defineProperty,s=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(s,a,r)=>a in s?e(s,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[a]=r,o=(e,s)=>{for(var a in s||(s={}))t.call(s,a)&&n(e,a,s[a]);if(r)for(var a of r(s))l.call(s,a)&&n(e,a,s[a]);return e},i=(e,r)=>s(e,a(r));import{j as c,A as d,F as m,B as p,S as u}from"./vendor-bootstrap-D-I_tXzc.js";import{r as h}from"./vendor-react-BEzjZhyF.js";import{q as x,g as b,L as j}from"./index-UqLlkq5m.js";import"./vendor-redux-Dj4qHuPE.js";const v=()=>{var e,s;const a=x(),r=b(),[t,l]=h.useState({email:"",password:"",rememberMe:!1}),[n,v]=h.useState({}),[g,w]=h.useState(!1),[y,f]=h.useState(""),N=(null==(s=null==(e=r.state)?void 0:e.from)?void 0:s.pathname)||"/",P=e=>{const{name:s,value:a,type:r,checked:t}=e.target;l((e=>i(o({},e),{[s]:"checkbox"===r?t:a}))),n[s]&&v((e=>i(o({},e),{[s]:void 0}))),y&&f("")};return c.jsxs("div",{className:"login-page",children:[c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("h2",{className:"h3 fw-bold",children:"Sign In"}),c.jsx("p",{className:"text-muted",children:"Welcome back! Please sign in to your account"})]}),y&&c.jsx(d,{variant:"danger",className:"mb-4",children:y}),c.jsxs(m,{onSubmit:e=>{return s=void 0,r=null,l=function*(){if(e.preventDefault(),(()=>{const e={};return t.email?/\S+@\S+\.\S+/.test(t.email)||(e.email="Please enter a valid email"):e.email="Email is required",t.password?t.password.length<1&&(e.password="Password is required"):e.password="Password is required",v(e),0===Object.keys(e).length})()){w(!0),v({}),f("");try{yield new Promise((e=>setTimeout(e,1e3))),alert("Login successful (test mode)"),a(N,{replace:!0})}catch(s){const e=(null==s?void 0:s.message)||"Login failed. Please try again.";f(e)}finally{w(!1)}}},new Promise(((a,t)=>{var n=s=>{try{i(l.next(s))}catch(e){t(e)}},o=s=>{try{i(l.throw(s))}catch(e){t(e)}},i=e=>e.done?a(e.value):Promise.resolve(e.value).then(n,o);i((l=l.apply(s,r)).next())}));var s,r,l},children:[c.jsxs(m.Group,{className:"mb-3",children:[c.jsx(m.Label,{children:"Email Address"}),c.jsx(m.Control,{type:"email",name:"email",value:t.email,onChange:P,isInvalid:!!n.email,placeholder:"Enter your email",autoComplete:"email"}),c.jsx(m.Control.Feedback,{type:"invalid",children:n.email})]}),c.jsxs(m.Group,{className:"mb-3",children:[c.jsxs("div",{className:"d-flex justify-content-between",children:[c.jsx(m.Label,{children:"Password"}),c.jsx(j,{to:"/auth/forgot-password",className:"small text-decoration-none",children:"Forgot password?"})]}),c.jsx(m.Control,{type:"password",name:"password",value:t.password,onChange:P,isInvalid:!!n.password,placeholder:"Enter your password",autoComplete:"current-password"}),c.jsx(m.Control.Feedback,{type:"invalid",children:n.password})]}),c.jsx(m.Group,{className:"mb-4",children:c.jsx(m.Check,{type:"checkbox",name:"rememberMe",checked:t.rememberMe,onChange:P,label:"Remember me"})}),c.jsx(p,{type:"submit",variant:"primary",size:"lg",className:"w-100 mb-4",disabled:g,children:g?c.jsxs(c.Fragment,{children:[c.jsx(u,{size:"sm",className:"me-2"}),"Signing in..."]}):"Sign In"}),c.jsxs("div",{className:"text-center",children:[c.jsx("span",{className:"text-muted",children:"Don't have an account? "}),c.jsx(j,{to:"/auth/register",className:"text-decoration-none fw-semibold",children:"Sign up"})]})]})]})};export{v as default};
