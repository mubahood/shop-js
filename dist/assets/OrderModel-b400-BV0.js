var t=Object.defineProperty,e=(e,r,s)=>((e,r,s)=>r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s)(e,"symbol"!=typeof r?r+"":r,s);import{U as r,y as s}from"./index--azPsTEf.js";const i=class t{constructor(){e(this,"id",0),e(this,"created_at",""),e(this,"updated_at",""),e(this,"user",""),e(this,"order_state",""),e(this,"amount",""),e(this,"date_created",""),e(this,"payment_confirmation",""),e(this,"date_updated",""),e(this,"mail",""),e(this,"delivery_district",""),e(this,"temporary_id",""),e(this,"temporary_text",""),e(this,"description",""),e(this,"customer_name",""),e(this,"customer_phone_number_1",""),e(this,"customer_phone_number_2",""),e(this,"customer_address",""),e(this,"order_total",""),e(this,"order_details",""),e(this,"stripe_id",""),e(this,"stripe_text",""),e(this,"stripe_url",""),e(this,"stripe_paid",""),e(this,"delivery_method",""),e(this,"delivery_address_id",""),e(this,"delivery_address_text",""),e(this,"delivery_address_details",""),e(this,"delivery_amount",""),e(this,"payable_amount",""),e(this,"items","")}getTax(t){return(.13*(parseFloat(t)||0)).toString()}isPaid(){return"PAID"===this.payment_confirmation.toUpperCase()}getPaymentLink(){return this.stripe_url}getOrderStatus(){switch(this.order_state){case"0":return"Pending";case"1":return"Processing";case"2":return"Completed";case"3":return"Canceled";case"4":return"Failed";default:return this.order_state}}static fromJson(e){const s=new t;return e?(s.id=r.int_parse(e.id),s.created_at=r.to_str(e.created_at,""),s.updated_at=r.to_str(e.updated_at,""),s.user=r.to_str(e.user,""),s.order_state=r.to_str(e.order_state,""),s.amount=r.to_str(e.amount,""),s.date_created=r.to_str(e.date_created,""),s.payment_confirmation=r.to_str(e.payment_confirmation,""),s.date_updated=r.to_str(e.date_updated,""),s.mail=r.to_str(e.mail,""),s.delivery_district=r.to_str(e.delivery_district,""),s.temporary_id=r.to_str(e.temporary_id,""),s.temporary_text=r.to_str(e.temporary_text,""),s.description=r.to_str(e.description,""),s.customer_name=r.to_str(e.customer_name,""),s.customer_phone_number_1=r.to_str(e.customer_phone_number_1,""),s.customer_phone_number_2=r.to_str(e.customer_phone_number_2,""),s.customer_address=r.to_str(e.customer_address,""),s.order_total=r.to_str(e.order_total,""),s.order_details=r.to_str(e.order_details,""),s.stripe_id=r.to_str(e.stripe_id,""),s.stripe_text=r.to_str(e.stripe_text,""),s.stripe_url=r.to_str(e.stripe_url,""),s.stripe_paid=r.to_str(e.stripe_paid,""),s.delivery_method=r.to_str(e.delivery_method,""),s.delivery_address_id=r.to_str(e.delivery_address_id,""),s.delivery_address_text=r.to_str(e.delivery_address_text,""),s.delivery_address_details=r.to_str(e.delivery_address_details,""),s.delivery_amount=r.to_str(e.delivery_amount,""),s.payable_amount=r.to_str(e.payable_amount,""),s.items=r.to_str(e.items,""),s):s}toJson(){return{id:this.id,created_at:this.created_at,updated_at:this.updated_at,user:this.user,order_state:this.order_state,amount:this.amount,date_created:this.date_created,payment_confirmation:this.payment_confirmation,date_updated:this.date_updated,mail:this.mail,delivery_district:this.delivery_district,temporary_id:this.temporary_id,temporary_text:this.temporary_text,description:this.description,customer_name:this.customer_name,customer_phone_number_1:this.customer_phone_number_1,customer_phone_number_2:this.customer_phone_number_2,customer_address:this.customer_address,order_total:this.order_total,order_details:this.order_details,stripe_id:this.stripe_id,stripe_text:this.stripe_text,stripe_url:this.stripe_url,stripe_paid:this.stripe_paid,delivery_method:this.delivery_method,delivery_address_id:this.delivery_address_id,delivery_address_text:this.delivery_address_text,delivery_address_details:this.delivery_address_details,delivery_amount:this.delivery_amount,payable_amount:this.payable_amount,items:this.items}}static fetchItems(){return e=this,r=null,i=function*(){try{const e=yield s(t.end_point,{});if(1!==e.code)throw new Error(e.message||"Failed to fetch orders.");const r=e.data;return Array.isArray(r)?r.map((e=>t.fromJson(e))):[]}catch(e){throw e}},new Promise(((t,s)=>{var _=t=>{try{a(i.next(t))}catch(e){s(e)}},d=t=>{try{a(i.throw(t))}catch(e){s(e)}},a=e=>e.done?t(e.value):Promise.resolve(e.value).then(_,d);a((i=i.apply(e,r)).next())}));var e,r,i}};e(i,"end_point","orders"),e(i,"table_name","orders_online_3");let _=i;export{_ as O};
