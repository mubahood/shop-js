var i=(i,n,e)=>new Promise(((t,s)=>{var r=i=>{try{o(e.next(i))}catch(n){s(n)}},a=i=>{try{o(e.throw(i))}catch(n){s(n)}},o=i=>i.done?t(i.value):Promise.resolve(i.value).then(r,a);o((e=e.apply(i,n)).next())}));import{j as n}from"./vendor-bootstrap-D-I_tXzc.js";import{r as e}from"./vendor-react-BEzjZhyF.js";import{l as t,L as s,r,T as a,P as o,B as l,U as d}from"./index-UqLlkq5m.js";import{u as c,a as m}from"./vendor-redux-Dj4qHuPE.js";import{f as h}from"./index-B0HgjlNw.js";const p="\n  .account-wishlist-container {\n    max-width: 1200px;\n    margin: 0 auto;\n  }\n\n  .wishlist-header-enhanced {\n    background: var(--white);\n    border-radius: var(--border-radius);\n    padding: 2rem;\n    margin-bottom: 2rem;\n    box-shadow: var(--shadow-sm);\n    border: 1px solid var(--border-color-light);\n  }\n\n  .wishlist-stats-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n    gap: 1.5rem;\n    margin-bottom: 2rem;\n  }\n\n  .wishlist-stat-card {\n    background: var(--white);\n    border-radius: var(--border-radius);\n    padding: 1.5rem;\n    text-align: center;\n    box-shadow: var(--shadow-sm);\n    border: 1px solid var(--border-color-light);\n    transition: transform 0.2s ease;\n  }\n\n  .wishlist-stat-card:hover {\n    transform: translateY(-2px);\n  }\n\n  .wishlist-stat-number {\n    font-size: 2rem;\n    font-weight: 700;\n    margin-bottom: 0.5rem;\n    color: var(--primary-color);\n  }\n\n  .wishlist-stat-label {\n    color: var(--text-color-medium);\n    font-size: 0.9rem;\n    margin: 0;\n  }\n\n  .wishlist-item-card {\n    background: var(--white);\n    border-radius: var(--border-radius);\n    padding: 1.5rem;\n    margin-bottom: 1.5rem;\n    box-shadow: var(--shadow-sm);\n    border: 1px solid var(--border-color-light);\n    transition: all 0.3s ease;\n    position: relative;\n    overflow: hidden;\n  }\n\n  .wishlist-item-card:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);\n  }\n\n  .wishlist-item-content {\n    display: flex;\n    gap: 1.5rem;\n    align-items: flex-start;\n  }\n\n  .wishlist-item-image {\n    width: 120px;\n    height: 120px;\n    flex-shrink: 0;\n    border-radius: var(--border-radius);\n    overflow: hidden;\n    background: var(--bg-light);\n    border: 1px solid var(--border-color);\n    position: relative;\n  }\n\n  .wishlist-item-image img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    transition: transform 0.3s ease;\n  }\n\n  .wishlist-item-card:hover .wishlist-item-image img {\n    transform: scale(1.05);\n  }\n\n  .wishlist-item-details {\n    flex: 1;\n    min-width: 0;\n  }\n\n  .wishlist-item-title {\n    font-size: 1.1rem;\n    font-weight: 600;\n    color: var(--text-color-dark);\n    margin-bottom: 0.5rem;\n    line-height: 1.4;\n    text-decoration: none;\n    display: block;\n    transition: color 0.2s ease;\n  }\n\n  .wishlist-item-title:hover {\n    color: var(--primary-color);\n  }\n\n  .wishlist-item-meta {\n    font-size: 0.85rem;\n    color: var(--text-color-medium);\n    margin-bottom: 1rem;\n  }\n\n  .wishlist-item-price {\n    display: flex;\n    align-items: center;\n    gap: 0.75rem;\n    margin-bottom: 1rem;\n  }\n\n  .wishlist-price-current {\n    font-size: 1.25rem;\n    font-weight: 700;\n    color: var(--primary-color);\n  }\n\n  .wishlist-price-original {\n    font-size: 0.9rem;\n    color: var(--text-color-muted);\n    text-decoration: line-through;\n  }\n\n  .wishlist-discount-badge {\n    background: var(--accent-color);\n    color: white;\n    font-size: 0.75rem;\n    font-weight: 600;\n    padding: 0.25rem 0.5rem;\n    border-radius: 12px;\n  }\n\n  .wishlist-item-actions {\n    display: flex;\n    gap: 0.75rem;\n    flex-wrap: wrap;\n  }\n\n  .wishlist-btn {\n    padding: 0.5rem 1rem;\n    border-radius: var(--border-radius);\n    font-weight: 500;\n    font-size: 0.9rem;\n    transition: all 0.2s ease;\n    border: none;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    text-decoration: none;\n  }\n\n  .wishlist-btn-primary {\n    background: var(--primary-color);\n    color: white;\n  }\n\n  .wishlist-btn-primary:hover {\n    background: var(--primary-color-dark);\n    transform: translateY(-1px);\n  }\n\n  .wishlist-btn-outline {\n    background: transparent;\n    color: var(--text-color-dark);\n    border: 2px solid var(--border-color);\n  }\n\n  .wishlist-btn-outline:hover {\n    border-color: var(--primary-color);\n    color: var(--primary-color);\n    background: var(--primary-color-light);\n  }\n\n  .wishlist-remove-btn {\n    position: absolute;\n    top: 1rem;\n    right: 1rem;\n    width: 32px;\n    height: 32px;\n    border-radius: 50%;\n    background: rgba(255, 255, 255, 0.9);\n    border: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: var(--danger-color);\n    cursor: pointer;\n    transition: all 0.2s ease;\n  }\n\n  .wishlist-remove-btn:hover {\n    background: var(--danger-color);\n    color: white;\n    transform: scale(1.1);\n  }\n\n  .wishlist-empty-state {\n    background: var(--white);\n    border-radius: var(--border-radius);\n    padding: 4rem 2rem;\n    text-align: center;\n    box-shadow: var(--shadow-sm);\n    border: 1px solid var(--border-color-light);\n  }\n\n  .wishlist-empty-icon {\n    font-size: 4rem;\n    color: var(--text-color-light);\n    margin-bottom: 1.5rem;\n  }\n\n  .wishlist-empty-title {\n    font-size: 1.5rem;\n    font-weight: 600;\n    color: var(--text-color-dark);\n    margin-bottom: 1rem;\n  }\n\n  .wishlist-empty-text {\n    color: var(--text-color-medium);\n    margin-bottom: 2rem;\n    max-width: 400px;\n    margin-left: auto;\n    margin-right: auto;\n  }\n\n  .wishlist-loading {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    min-height: 300px;\n    flex-direction: column;\n    gap: 1rem;\n  }\n\n  .wishlist-spinner {\n    width: 40px;\n    height: 40px;\n    border: 4px solid var(--border-color);\n    border-top: 4px solid var(--primary-color);\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n  }\n\n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n\n  @media (max-width: 767.98px) {\n    .wishlist-item-content {\n      flex-direction: column;\n      gap: 1rem;\n    }\n\n    .wishlist-item-image {\n      width: 100%;\n      height: 200px;\n    }\n\n    .wishlist-item-actions {\n      justify-content: center;\n    }\n\n    .wishlist-header-enhanced {\n      padding: 1.5rem;\n    }\n\n    .wishlist-stats-grid {\n      grid-template-columns: 1fr;\n    }\n  }\n",u=()=>{const u=c(),{user:w}=m((i=>i.auth)),{items:x,isLoading:g}=m((i=>i.wishlist)),[b,v]=e.useState(new Set),[f,j]=e.useState(new Set),[y,N]=e.useState(new Map);e.useEffect((()=>{w&&w.id&&u(t())}),[w,u]);const _=x.length,k=x.reduce(((i,n)=>i+parseFloat(n.product_sale_price||n.product_price||"0")),0),S=x.reduce(((i,n)=>{const e=parseFloat(n.product_price||"0"),t=parseFloat(n.product_sale_price||"0");return t>0&&t<e?i+(e-t):i}),0),F=n=>i(void 0,null,(function*(){j((i=>new Set(i).add(n.product_id)));try{const i=new o;i.id=n.product_id,i.name=n.product_name,i.price_1=n.product_sale_price||n.product_price,i.price_2=n.product_price,i.feature_photo=n.product_photo||"",u(l({product:i,quantity:1,variant:{}})),a.success(`${n.product_name} added to cart`)}catch(i){a.error("Failed to add to cart")}finally{j((i=>{const e=new Set(i);return e.delete(n.product_id),e}))}}));return w&&w.id?n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:p}}),n.jsxs("div",{className:"account-wishlist-container",children:[n.jsx("div",{className:"wishlist-header-enhanced",children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("h1",{style:{fontSize:"2rem",fontWeight:"700",color:"var(--text-color-dark)",marginBottom:"0.5rem"},children:"My Wishlist"}),n.jsx("p",{style:{color:"var(--text-color-medium)",margin:0},children:x.length>0?`${x.length} item${1!==x.length?"s":""} saved for later`:"Save your favorite products here"})]}),n.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[x.length>0&&n.jsxs("button",{className:"wishlist-btn wishlist-btn-primary",onClick:()=>i(void 0,null,(function*(){if(0!==x.length)try{const i=x.map((i=>F(i)));yield Promise.all(i),a.success("All items added to cart")}catch(i){a.error("Failed to add all items to cart")}})),disabled:f.size>0,children:[n.jsx("i",{className:"bi bi-cart-plus"}),"Add All to Cart"]}),n.jsxs("button",{className:"wishlist-btn wishlist-btn-outline",onClick:()=>{w&&w.id&&u(t())},disabled:g,children:[n.jsx("i",{className:"bi bi-arrow-clockwise"}),"Refresh"]})]})]})}),x.length>0&&n.jsxs("div",{className:"wishlist-stats-grid",children:[n.jsxs("div",{className:"wishlist-stat-card",children:[n.jsx("div",{className:"wishlist-stat-number",children:_}),n.jsx("p",{className:"wishlist-stat-label",children:"Items in Wishlist"})]}),n.jsxs("div",{className:"wishlist-stat-card",children:[n.jsx("div",{className:"wishlist-stat-number",children:h(k)}),n.jsx("p",{className:"wishlist-stat-label",children:"Total Value"})]}),n.jsxs("div",{className:"wishlist-stat-card",children:[n.jsx("div",{className:"wishlist-stat-number",children:h(S)}),n.jsx("p",{className:"wishlist-stat-label",children:"Total Savings"})]})]}),g?n.jsxs("div",{className:"wishlist-loading",children:[n.jsx("div",{className:"wishlist-spinner"}),n.jsx("p",{style:{color:"var(--text-color-medium)"},children:"Loading your wishlist..."})]}):0===x.length?n.jsxs("div",{className:"wishlist-empty-state",children:[n.jsx("i",{className:"bi bi-heart wishlist-empty-icon"}),n.jsx("h2",{className:"wishlist-empty-title",children:"Your Wishlist is Empty"}),n.jsx("p",{className:"wishlist-empty-text",children:"Start adding products to your wishlist by clicking the heart icon on any product you like."}),n.jsxs(s,{to:"/products",className:"wishlist-btn wishlist-btn-primary",children:[n.jsx("i",{className:"bi bi-search"}),"Browse Products"]})]}):n.jsx("div",{children:x.map((e=>{const t=b.has(e.product_id),o=f.has(e.product_id),l=(c=e.product_photo)?d.img(c):d.img("");var c;const m=e.product_sale_price?parseFloat(e.product_sale_price):null,p=parseFloat(e.product_price||"0"),w=m&&m>0?m:p,x=m&&m>0&&m<p,g=((i,n)=>{if(!n)return 0;const e=parseFloat(i),t=parseFloat(n);return t>=e?0:Math.round((e-t)/e*100)})(e.product_price,e.product_sale_price);return n.jsxs("div",{className:"wishlist-item-card",style:{opacity:t?.6:1},children:[n.jsx("button",{className:"wishlist-remove-btn",onClick:()=>{return n=e.product_id,t=e.product_name,i(void 0,null,(function*(){v((i=>new Set(i).add(n)));try{yield u(r(n)),a.success(`${t} removed from wishlist`)}catch(i){a.error("Failed to remove item from wishlist")}finally{v((i=>{const e=new Set(i);return e.delete(n),e}))}}));var n,t},disabled:t,title:"Remove from wishlist",children:t?n.jsx("div",{className:"wishlist-spinner",style:{width:"16px",height:"16px"}}):n.jsx("i",{className:"bi bi-heart-fill"})}),n.jsxs("div",{className:"wishlist-item-content",children:[n.jsx("div",{className:"wishlist-item-image",children:n.jsx("img",{src:l,alt:e.product_name,onLoad:()=>{return i=e.product_id,void N((n=>new Map(n).set(i,!0)));var i},onError:i=>((i,n)=>{N((n=>new Map(n).set(i,!1))),n.currentTarget.src=d.img("")})(e.product_id,i)})}),n.jsxs("div",{className:"wishlist-item-details",children:[n.jsx(s,{to:`/product/${e.product_id}`,className:"wishlist-item-title",children:e.product_name}),n.jsxs("div",{className:"wishlist-item-meta",children:["Added on ",(j=e.created_at,j?new Date(j).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A")]}),n.jsxs("div",{className:"wishlist-item-price",children:[n.jsx("span",{className:"wishlist-price-current",children:h(w)}),x&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"wishlist-price-original",children:h(p)}),g>0&&n.jsxs("span",{className:"wishlist-discount-badge",children:["-",g,"% OFF"]})]})]}),n.jsxs("div",{className:"wishlist-item-actions",children:[n.jsx("button",{className:"wishlist-btn wishlist-btn-primary",onClick:()=>F(e),disabled:o||t,children:o?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"wishlist-spinner",style:{width:"16px",height:"16px"}}),"Adding..."]}):n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"bi bi-cart-plus"}),"Add to Cart"]})}),n.jsxs(s,{to:`/product/${e.product_id}`,className:"wishlist-btn wishlist-btn-outline",children:[n.jsx("i",{className:"bi bi-eye"}),"View Details"]})]})]})]})]},e.id);var j}))}),x.length>0&&n.jsxs("div",{style:{marginTop:"2rem",display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[n.jsxs(s,{to:"/products",className:"wishlist-btn wishlist-btn-primary",children:[n.jsx("i",{className:"bi bi-plus-circle"}),"Add More Items"]}),n.jsxs("button",{className:"wishlist-btn wishlist-btn-outline",children:[n.jsx("i",{className:"bi bi-share"}),"Share Wishlist"]})]})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:p}}),n.jsx("div",{className:"account-wishlist-container",children:n.jsxs("div",{className:"wishlist-empty-state",children:[n.jsx("i",{className:"bi bi-exclamation-triangle wishlist-empty-icon"}),n.jsx("h2",{className:"wishlist-empty-title",children:"Please Log In"}),n.jsx("p",{className:"wishlist-empty-text",children:"You need to be logged in to view your wishlist."}),n.jsxs(s,{to:"/auth/login",className:"wishlist-btn wishlist-btn-primary",children:[n.jsx("i",{className:"bi bi-box-arrow-in-right"}),"Log In"]})]})})]})};export{u as default};
