var e=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(a,s,r)=>s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[s]=r,o=(e,a)=>{for(var s in a||(a={}))t.call(a,s)&&n(e,s,a[s]);if(r)for(var s of r(a))l.call(a,s)&&n(e,s,a[s]);return e},i=(e,r)=>a(e,s(r));import{j as c,A as d,F as m,B as p,S as u}from"./vendor-bootstrap-5Pmslw1a.js";import{r as h}from"./vendor-react-CSr-5IoM.js";import{u as b,a as j,L as x}from"./vendor-router-B5VXrYKF.js";const v=()=>{var e,a;const s=b(),r=j(),[t,l]=h.useState({email:"",password:"",rememberMe:!1}),[n,v]=h.useState({}),[w,y]=h.useState(!1),[g,f]=h.useState(""),N=(null==(a=null==(e=r.state)?void 0:e.from)?void 0:a.pathname)||"/",P=e=>{const{name:a,value:s,type:r,checked:t}=e.target;l((e=>i(o({},e),{[a]:"checkbox"===r?t:s}))),n[a]&&v((e=>i(o({},e),{[a]:void 0}))),g&&f("")};return c.jsxs("div",{className:"login-page",children:[c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("h2",{className:"h3 fw-bold",children:"Sign In"}),c.jsx("p",{className:"text-muted",children:"Welcome back! Please sign in to your account"})]}),g&&c.jsx(d,{variant:"danger",className:"mb-4",children:g}),c.jsxs(m,{onSubmit:e=>{return a=void 0,r=null,l=function*(){if(e.preventDefault(),(()=>{const e={};return t.email?/\S+@\S+\.\S+/.test(t.email)||(e.email="Please enter a valid email"):e.email="Email is required",t.password?t.password.length<1&&(e.password="Password is required"):e.password="Password is required",v(e),0===Object.keys(e).length})()){y(!0),v({}),f("");try{yield new Promise((e=>setTimeout(e,1e3))),alert("Login successful (test mode)"),s(N,{replace:!0})}catch(a){const e=(null==a?void 0:a.message)||"Login failed. Please try again.";f(e)}finally{y(!1)}}},new Promise(((s,t)=>{var n=a=>{try{i(l.next(a))}catch(e){t(e)}},o=a=>{try{i(l.throw(a))}catch(e){t(e)}},i=e=>e.done?s(e.value):Promise.resolve(e.value).then(n,o);i((l=l.apply(a,r)).next())}));var a,r,l},children:[c.jsxs(m.Group,{className:"mb-3",children:[c.jsx(m.Label,{children:"Email Address"}),c.jsx(m.Control,{type:"email",name:"email",value:t.email,onChange:P,isInvalid:!!n.email,placeholder:"Enter your email",autoComplete:"email"}),c.jsx(m.Control.Feedback,{type:"invalid",children:n.email})]}),c.jsxs(m.Group,{className:"mb-3",children:[c.jsxs("div",{className:"d-flex justify-content-between",children:[c.jsx(m.Label,{children:"Password"}),c.jsx(x,{to:"/auth/forgot-password",className:"small text-decoration-none",children:"Forgot password?"})]}),c.jsx(m.Control,{type:"password",name:"password",value:t.password,onChange:P,isInvalid:!!n.password,placeholder:"Enter your password",autoComplete:"current-password"}),c.jsx(m.Control.Feedback,{type:"invalid",children:n.password})]}),c.jsx(m.Group,{className:"mb-4",children:c.jsx(m.Check,{type:"checkbox",name:"rememberMe",checked:t.rememberMe,onChange:P,label:"Remember me"})}),c.jsx(p,{type:"submit",variant:"primary",size:"lg",className:"w-100 mb-4",disabled:w,children:w?c.jsxs(c.Fragment,{children:[c.jsx(u,{size:"sm",className:"me-2"}),"Signing in..."]}):"Sign In"}),c.jsxs("div",{className:"text-center",children:[c.jsx("span",{className:"text-muted",children:"Don't have an account? "}),c.jsx(x,{to:"/auth/register",className:"text-decoration-none fw-semibold",children:"Sign up"})]})]})]})};export{v as default};
