var n=Object.defineProperty,r=Object.defineProperties,e=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,i=(r,e,t)=>e in r?n(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,s=(n,r)=>{for(var e in r||(r={}))a.call(r,e)&&i(n,e,r[e]);if(t)for(var e of t(r))o.call(r,e)&&i(n,e,r[e]);return n},d=(n,r,e)=>new Promise(((t,a)=>{var o=n=>{try{s(e.next(n))}catch(r){a(r)}},i=n=>{try{s(e.throw(n))}catch(r){a(r)}},s=n=>n.done?t(n.value):Promise.resolve(n.value).then(o,i);s((e=e.apply(n,r)).next())}));import{j as l,B as c,S as m,M as p,F as b,A as u,c as h,R as g,b as x,a as v}from"./vendor-bootstrap-DcTIMiez.js";import{r as f}from"./vendor-react-CSr-5IoM.js";import{c as w,u as y,L as j}from"./vendor-router-B5VXrYKF.js";import{C as k,r as N,T as z,e as C,U as S,D as _,g as I,h as F,i as R,j as M,k as L,m as A,n as B,o as P,p as $,f as T}from"./index-BXxMK5by.js";import{u as E}from"./vendor-redux-DhM9Zidd.js";import{H as Y}from"./vendor-ui-CbHL61C-.js";import{D}from"./DynamicBreadcrumb-CFrteDom.js";import"./vendor-query-CMt9O1ha.js";const H=({productId:n,productName:r="Product",variant:e="icon",size:t="md",className:a="",showToast:o=!0})=>{const i=E(),[s,p]=f.useState(!1),[b,u]=f.useState(!1),[h,g]=f.useState(!0);f.useEffect((()=>{n&&d(void 0,null,(function*(){try{g(!0);const r=yield k.checkWishlist(n);p(r)}catch(r){}finally{g(!1)}}))}),[n]);const x=e=>d(void 0,null,(function*(){if(e.preventDefault(),e.stopPropagation(),!b&&!h){u(!0);try{if(s)yield i(N(n)).unwrap(),p(!1),o&&z.success(`${r} removed from wishlist`);else try{yield i(C(n)).unwrap(),p(!0),o&&z.success(`${r} added to wishlist`)}catch(t){if(!t.message||!t.message.includes("already in wishlist"))throw t;p(!0),o&&z.info(`${r} is already in your wishlist`)}}catch(t){const n=t.message||"Failed to update wishlist";o&&z.error(`Failed to update wishlist: ${n}`)}finally{u(!1)}}})),v=()=>{switch(t){case"sm":return 24;case"lg":return 40;default:return 32}},w=()=>{switch(t){case"sm":return 14;case"lg":return 20;default:return 16}};return"button"===e?l.jsxs(c,{variant:s?"primary":"outline-primary",size:"lg"===t?"lg":"sm"===t?"sm":void 0,onClick:x,disabled:b||h,className:a,children:[b||h?l.jsx(m,{size:"sm",className:"me-2"}):l.jsx(Y,{size:w(),className:"me-2",fill:s?"currentColor":"none"}),s?"Remove from Wishlist":"Add to Wishlist"]}):l.jsx(c,{variant:s?"primary":"outline-primary",size:"sm",className:`p-0 ${a}`,onClick:x,disabled:b||h,title:s?"Remove from Wishlist":"Add to Wishlist",style:{width:v(),height:v(),display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",border:s?"none":"1px solid currentColor"},children:b||h?l.jsx(m,{size:"sm"}):l.jsx(Y,{size:w(),fill:s?"currentColor":"none"})})},U=({src:n,alt:r="",className:e,style:t={},width:a="100%",height:o="auto",loaderWidth:i=400,loaderHeight:d=300,loaderBackgroundColor:c="#e0e0e0",loaderForegroundColor:m="#c0c0c0",loaderSpeed:p=1.5,objectFit:b="cover",onError:u})=>{const[h,g]=f.useState(!1),[x,v]=f.useState(!1),[w,y]=f.useState(!0);f.useEffect((()=>{if(g(!1),v(!1),y(!0),n){const r=new Image;r.onload=()=>{y(!1)},r.onerror=()=>{v(!0),y(!1)},r.src=n}else v(!0),y(!1)}),[n]);const j="number"==typeof a?`${a}px`:a,k="number"==typeof o?`${o}px`:o;return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"\n    @keyframes shimmer {\n      0% {\n        background-position: -200px 0;\n      }\n      100% {\n        background-position: calc(200px + 100%) 0;\n      }\n    }\n    \n    @keyframes shimmerGlow {\n      0% {\n        opacity: 0.5;\n      }\n      50% {\n        opacity: 1;\n      }\n      100% {\n        opacity: 0.5;\n      }\n    }\n  "}}),l.jsxs("div",{className:e,style:s({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",width:j,height:k,minHeight:"string"==typeof o&&o.includes("%")?"300px":k,overflow:"hidden",backgroundColor:h||x?"transparent":c},t),children:[!h&&!x&&w&&l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:`linear-gradient(90deg, ${c} 0%, ${m} 50%, ${c} 100%)`,backgroundSize:"200px 100%",animation:`shimmer ${p}s ease-in-out infinite`,minHeight:"200px"}}),l.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:`radial-gradient(circle, ${m} 0%, transparent 70%)`,animation:`shimmerGlow ${1.5*p}s ease-in-out infinite`,minHeight:"200px"}})]}),x&&l.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f0f0f0",color:"#888"},children:l.jsx("span",{children:"Error"})}),n&&!x&&l.jsx("img",{src:n,alt:r,onLoad:()=>{g(!0),v(!1),y(!1)},onError:n=>{v(!0),g(!1),y(!1),u&&u(n)},style:{display:"block",maxWidth:"100%",maxHeight:"100%",width:"auto",height:"auto",objectFit:b,opacity:h?1:0,transition:"opacity 0.4s ease-in-out",visibility:h?"visible":"hidden",zIndex:1,margin:"auto"}})]})]})},q=({rating:n,maxRating:r=5,size:e="md",interactive:t=!1,onRatingChange:a,disabled:o=!1})=>{const i=n=>{t&&!o&&a&&a(n)};return l.jsxs("div",{className:`star-rating ${(()=>{switch(e){case"sm":return"star-rating-sm";case"lg":return"star-rating-lg";default:return"star-rating-md"}})()}`,children:[(()=>{const e=[];for(let a=1;a<=r;a++){const r=a<=n,s=n>a-1&&n<a;e.push(l.jsx("span",{className:`star ${t?"star-interactive":""} ${o?"star-disabled":""}`,onClick:()=>i(a),role:t?"button":void 0,tabIndex:t&&!o?0:void 0,onKeyDown:n=>{!t||o||"Enter"!==n.key&&" "!==n.key||(n.preventDefault(),i(a))},children:r?l.jsx("i",{className:"bi bi-star-fill"}):s?l.jsx("i",{className:"bi bi-star-half"}):l.jsx("i",{className:"bi bi-star"})},a))}return e})(),l.jsx("style",{children:"\n        .star-rating {\n          display: inline-flex;\n          gap: 2px;\n          align-items: center;\n        }\n\n        .star {\n          color: #ffd700;\n          transition: all 0.2s ease;\n        }\n\n        .star-interactive {\n          cursor: pointer;\n        }\n\n        .star-interactive:hover {\n          transform: scale(1.1);\n        }\n\n        .star-disabled {\n          opacity: 0.5;\n          cursor: not-allowed;\n        }\n\n        .star-rating-sm .star {\n          font-size: 0.875rem;\n        }\n\n        .star-rating-md .star {\n          font-size: 1rem;\n        }\n\n        .star-rating-lg .star {\n          font-size: 1.25rem;\n        }\n\n        .star i {\n          color: inherit;\n        }\n      "})]})},W=({review:n,isLast:r=!1,onReviewUpdated:e})=>{const[t,a]=f.useState(!1),[o,i]=f.useState(!1),[s,m]=f.useState(n.rating),[h,g]=f.useState(n.comment),x=S.loadFromDatabase(_),v=x&&x.id===n.user_id,[w,{isLoading:y}]=I(),[j,{isLoading:k}]=F();return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"review-item "+(r?"":"mb-4"),children:[l.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[l.jsx("div",{className:"review-header",children:l.jsxs("div",{className:"d-flex align-items-center mb-2",children:[l.jsx("div",{className:"reviewer-avatar me-3",children:l.jsx("i",{className:"bi bi-person-circle fs-4 text-muted"})}),l.jsxs("div",{children:[l.jsx("h6",{className:"reviewer-name mb-1",children:n.user.name}),l.jsx(q,{rating:n.rating,size:"sm"})]})]})}),v&&l.jsxs("div",{className:"review-actions",children:[l.jsx(c,{variant:"outline-secondary",size:"sm",onClick:()=>a(!0),className:"me-2",children:l.jsx("i",{className:"bi bi-pencil"})}),l.jsx(c,{variant:"outline-danger",size:"sm",onClick:()=>i(!0),children:l.jsx("i",{className:"bi bi-trash"})})]})]}),l.jsx("div",{className:"review-content mb-3",children:l.jsx("p",{className:"review-comment mb-2",children:n.comment})}),l.jsx("div",{className:"review-meta",children:l.jsxs("small",{className:"text-muted",children:[l.jsx("i",{className:"bi bi-clock me-1"}),(n=>{const r=new Date(n),e=(new Date).getTime()-r.getTime(),t=Math.floor(e/864e5);return 0===t?"Today":1===t?"Yesterday":t<7?`${t} days ago`:t<30?`${Math.floor(t/7)} weeks ago`:t<365?`${Math.floor(t/30)} months ago`:`${Math.floor(t/365)} years ago`})(n.created_at)," â€¢ ",(N=n.created_at,new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})),n.updated_at!==n.created_at&&l.jsxs("span",{className:"ms-2",children:[l.jsx("i",{className:"bi bi-pencil-square me-1"}),"Edited"]})]})})]}),l.jsxs(p,{show:t,onHide:()=>a(!1),centered:!0,children:[l.jsx(p.Header,{closeButton:!0,children:l.jsx(p.Title,{children:"Edit Your Review"})}),l.jsx(p.Body,{children:l.jsxs(b,{children:[l.jsxs(b.Group,{className:"mb-3",children:[l.jsx(b.Label,{className:"fw-semibold",children:"Rating"}),l.jsx("div",{className:"mt-2",children:l.jsx(q,{rating:s,interactive:!0,onRatingChange:m,size:"lg"})})]}),l.jsxs(b.Group,{className:"mb-3",children:[l.jsx(b.Label,{className:"fw-semibold",children:"Your Review"}),l.jsx(b.Control,{as:"textarea",rows:4,value:h,onChange:n=>g(n.target.value),placeholder:"Share your thoughts about this product...",maxLength:1e3}),l.jsxs(b.Text,{className:"text-muted",children:[h.length,"/1000 characters"]})]})]})}),l.jsxs(p.Footer,{children:[l.jsx(c,{variant:"secondary",onClick:()=>a(!1),disabled:y,children:"Cancel"}),l.jsx(c,{variant:"primary",onClick:()=>d(void 0,null,(function*(){try{yield w({reviewId:n.id,rating:s,comment:h,productId:n.product_id}).unwrap(),a(!1),null==e||e()}catch(r){}})),disabled:y||!h.trim(),children:y?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"spinner-border spinner-border-sm me-2"}),"Updating..."]}):"Update Review"})]})]}),l.jsxs(p,{show:o,onHide:()=>i(!1),centered:!0,children:[l.jsx(p.Header,{closeButton:!0,children:l.jsx(p.Title,{children:"Delete Review"})}),l.jsx(p.Body,{children:l.jsxs(u,{variant:"warning",children:[l.jsx(u.Heading,{children:"Are you sure?"}),l.jsx("p",{className:"mb-0",children:"This action cannot be undone. Your review will be permanently deleted."})]})}),l.jsxs(p.Footer,{children:[l.jsx(c,{variant:"secondary",onClick:()=>i(!1),disabled:k,children:"Cancel"}),l.jsx(c,{variant:"danger",onClick:()=>d(void 0,null,(function*(){try{yield j({reviewId:n.id,productId:n.product_id}).unwrap(),i(!1),null==e||e()}catch(r){}})),disabled:k,children:k?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"spinner-border spinner-border-sm me-2"}),"Deleting..."]}):"Delete Review"})]})]}),l.jsx("style",{children:"\n        .review-item {\n          position: relative;\n        }\n\n        .review-header {\n          flex: 1;\n        }\n\n        .reviewer-name {\n          font-weight: 600;\n          color: var(--text-color-dark);\n          margin-bottom: 0;\n        }\n\n        .review-actions {\n          opacity: 0.7;\n          transition: opacity 0.3s ease;\n        }\n\n        .review-item:hover .review-actions {\n          opacity: 1;\n        }\n\n        .review-comment {\n          line-height: 1.6;\n          color: var(--text-color);\n          margin-bottom: 0;\n          white-space: pre-wrap;\n          word-wrap: break-word;\n        }\n\n        .review-meta {\n          font-size: 0.875rem;\n        }\n\n        .reviewer-avatar {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        @media (max-width: 576px) {\n          .review-actions {\n            opacity: 1;\n          }\n          \n          .review-actions .btn {\n            padding: 0.25rem 0.5rem;\n            font-size: 0.875rem;\n          }\n        }\n      "})]});var N},O=({productId:n,onWriteReviewClick:r,showWriteReviewButton:e=!0})=>{const[t,a]=f.useState(1),[o,i]=f.useState("newest"),{data:s,isLoading:d,error:p,refetch:v}=R({productId:n,page:t,perPage:10,sortBy:o}),{data:w,isLoading:y}=M({productId:n}),j=(null==s?void 0:s.reviews)||[],k=(null==s?void 0:s.pagination)||{},N=w||{total_reviews:0,average_rating:0,rating_breakdown:{}},z=n=>{a(n)};return d&&1===t?l.jsx(h,{className:"border-0 shadow-sm",children:l.jsxs(h.Body,{className:"p-4 text-center",children:[l.jsx(m,{animation:"border",variant:"primary",className:"mb-3"}),l.jsx("p",{className:"text-muted mb-0",children:"Loading reviews..."})]})}):p?l.jsx(h,{className:"border-0 shadow-sm",children:l.jsx(h.Body,{className:"p-4",children:l.jsxs(u,{variant:"danger",children:[l.jsx(u.Heading,{children:"Error Loading Reviews"}),l.jsx("p",{className:"mb-0",children:"Failed to load reviews. Please try again later."}),l.jsxs(c,{variant:"outline-danger",size:"sm",onClick:()=>v(),className:"mt-2",children:[l.jsx("i",{className:"bi bi-arrow-clockwise me-2"}),"Retry"]})]})})}):l.jsx(h,{className:"border-0 shadow-sm",children:l.jsxs(h.Body,{className:"p-4",children:[l.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[l.jsxs("h5",{className:"section-title mb-0",children:[l.jsx("i",{className:"bi bi-star me-2"}),"Customer Reviews (",N.total_reviews,")"]}),e&&l.jsxs(c,{variant:"primary",size:"sm",onClick:r,className:"write-review-btn",children:[l.jsx("i",{className:"bi bi-pencil me-2"}),"Write Review"]})]}),N.total_reviews>0&&l.jsxs(g,{className:"mb-4",children:[l.jsx(x,{md:4,children:l.jsxs("div",{className:"text-center p-3 bg-light rounded",children:[l.jsx("div",{className:"display-6 fw-bold text-primary mb-2",children:N.average_rating.toFixed(1)}),l.jsx(q,{rating:N.average_rating,size:"lg"}),l.jsxs("div",{className:"text-muted mt-2",children:["Based on ",N.total_reviews," review",1!==N.total_reviews?"s":""]})]})}),l.jsx(x,{md:8,children:(()=>{if(!N.rating_breakdown)return null;const n=N.rating_breakdown,r=N.total_reviews;return l.jsx("div",{className:"rating-breakdown mb-4",children:[5,4,3,2,1].map((e=>{const t=n[`${e}_star${1===e?"":"s"}`]||0,a=r>0?t/r*100:0;return l.jsxs("div",{className:"d-flex align-items-center mb-2",children:[l.jsxs("div",{className:"rating-label",style:{minWidth:"60px"},children:[e," ",l.jsx("i",{className:"bi bi-star-fill text-warning"})]}),l.jsx("div",{className:"progress flex-grow-1 mx-3",style:{height:"8px"},children:l.jsx("div",{className:"progress-bar bg-warning",style:{width:`${a}%`}})}),l.jsx("div",{className:"rating-count",style:{minWidth:"40px",textAlign:"right"},children:t})]},e)}))})})()})]}),j.length>0&&l.jsx(g,{className:"mb-4",children:l.jsx(x,{md:6,children:l.jsxs(b.Group,{children:[l.jsx(b.Label,{className:"fw-semibold",children:"Sort by:"}),l.jsxs(b.Select,{value:o,onChange:n=>{return r=n.target.value,i(r),void a(1);var r},size:"sm",children:[l.jsx("option",{value:"newest",children:"Newest First"}),l.jsx("option",{value:"oldest",children:"Oldest First"}),l.jsx("option",{value:"highest_rating",children:"Highest Rating"}),l.jsx("option",{value:"lowest_rating",children:"Lowest Rating"})]})]})})}),0===j.length?l.jsxs("div",{className:"text-center py-5",children:[l.jsx("i",{className:"bi bi-star fs-1 text-muted mb-3 d-block"}),l.jsx("h6",{children:"No Reviews Yet"}),l.jsx("p",{className:"text-muted mb-3",children:"Be the first to review this product!"}),e&&l.jsxs(c,{variant:"primary",onClick:r,children:[l.jsx("i",{className:"bi bi-pencil me-2"}),"Write the First Review"]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"reviews-list",children:j.map(((n,r)=>l.jsx(W,{review:n,isLast:r===j.length-1,onReviewUpdated:()=>v()},n.id)))}),(()=>{if(!k.last_page||k.last_page<=1)return null;const n=[],r=k.current_page,e=k.last_page;r>1&&n.push(l.jsx(c,{variant:"outline-primary",size:"sm",onClick:()=>z(r-1),className:"me-2",children:"Previous"},"prev"));const t=Math.max(1,r-2),a=Math.min(e,r+2);t>1&&(n.push(l.jsx(c,{variant:1===r?"primary":"outline-primary",size:"sm",onClick:()=>z(1),className:"me-2",children:"1"},1)),t>2&&n.push(l.jsx("span",{className:"me-2",children:"..."},"ellipsis1")));for(let o=t;o<=a;o++)n.push(l.jsx(c,{variant:o===r?"primary":"outline-primary",size:"sm",onClick:()=>z(o),className:"me-2",children:o},o));return a<e&&(a<e-1&&n.push(l.jsx("span",{className:"me-2",children:"..."},"ellipsis2")),n.push(l.jsx(c,{variant:e===r?"primary":"outline-primary",size:"sm",onClick:()=>z(e),className:"me-2",children:e},e))),r<e&&n.push(l.jsx(c,{variant:"outline-primary",size:"sm",onClick:()=>z(r+1),children:"Next"},"next")),l.jsx("div",{className:"d-flex justify-content-center mt-4",children:n})})()]}),l.jsx("style",{children:"\n          .section-title {\n            color: var(--primary-color);\n            font-weight: 600;\n            border-bottom: 2px solid var(--primary-color);\n            padding-bottom: 0.5rem;\n            margin-bottom: 1rem;\n          }\n\n          .write-review-btn {\n            border-radius: 0.375rem;\n            font-weight: 500;\n            transition: all 0.3s ease;\n          }\n\n          .write-review-btn:hover {\n            transform: translateY(-1px);\n            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n          }\n\n          .rating-breakdown {\n            font-size: 0.875rem;\n          }\n\n          .rating-label {\n            font-weight: 500;\n            color: var(--text-color-dark);\n          }\n\n          .rating-count {\n            font-weight: 500;\n            color: var(--text-color-muted);\n          }\n\n          .reviews-list > * + * {\n            border-top: 1px solid var(--border-color);\n            padding-top: 1.5rem;\n          }\n\n          .reviews-list > *:not(:last-child) {\n            padding-bottom: 1.5rem;\n          }\n        "})]})})},G=({productId:n,onReviewSubmitted:r,show:e=!1,onHide:t,asModal:a=!1})=>{const[o,i]=f.useState(0),[s,m]=f.useState(""),[g,x]=f.useState(""),[v,w]=f.useState(""),y=E(),j=S.loadFromDatabase(_),{data:k,isLoading:N}=L({productId:n},{skip:!j}),[z,{isLoading:C}]=A(),[F,{isLoading:R}]=I(),M=!!k,P=C||R;f.useEffect((()=>{k&&(i(k.rating),m(k.comment))}),[k]);if(N)return l.jsx(h,{className:"border-0 shadow-sm",children:l.jsxs(h.Body,{className:"p-4 text-center",children:[l.jsx("div",{className:"spinner-border text-primary mb-3"}),l.jsx("p",{className:"text-muted mb-0",children:"Loading..."})]})});if(!j)return l.jsx(h,{className:"border-0 shadow-sm",children:l.jsxs(h.Body,{className:"p-4 text-center",children:[l.jsx("i",{className:"bi bi-person-circle fs-1 text-muted mb-3 d-block"}),l.jsx("h6",{children:"Sign In to Write a Review"}),l.jsx("p",{className:"text-muted mb-0",children:"You need to be logged in to share your thoughts about this product."})]})});const $=l.jsxs(l.Fragment,{children:[g&&l.jsx(u,{variant:"danger",dismissible:!0,onClose:()=>x(""),children:g}),v&&l.jsx(u,{variant:"success",dismissible:!0,onClose:()=>w(""),children:v}),l.jsxs(b,{onSubmit:e=>d(void 0,null,(function*(){var d;if(e.preventDefault(),!P)if(x(""),w(""),j)if(0!==o)if(s.trim())try{let e;if(M){e=yield F({reviewId:k.id,rating:o,comment:s.trim(),productId:k.product_id}).unwrap();const n="Your review has been updated successfully!";w(n),y(B({message:n,type:"success"}))}else{e=yield z({productId:n,rating:o,comment:s.trim()}).unwrap();const r="Thank you for your review!";w(r),y(B({message:r,type:"success"}))}null==r||r(),a&&t?setTimeout((()=>{t(),i(0),m(""),w(""),x("")}),1500):setTimeout((()=>{i(0),m(""),w(""),x("")}),3e3)}catch(l){let n="Failed to submit review. Please try again.";(null==(d=null==l?void 0:l.data)?void 0:d.message)?n=l.data.message:(null==l?void 0:l.message)?n=l.message:"string"==typeof l&&(n=l),x(n),y(B({message:n,type:"error"}))}else x("Please write a review comment.");else x("Please select a rating.");else x("You must be logged in to submit a review.")})),children:[l.jsxs(b.Group,{className:"mb-4",children:[l.jsxs(b.Label,{className:"fw-semibold",children:["Rate this product ",l.jsx("span",{className:"text-danger",children:"*"})]}),l.jsxs("div",{className:"mt-2",children:[l.jsx(q,{rating:o,interactive:!0,onRatingChange:i,size:"lg"}),o>0&&l.jsx("div",{className:"mt-2",children:l.jsxs("small",{className:"text-muted",children:[1===o&&"Poor",2===o&&"Fair",3===o&&"Good",4===o&&"Very Good",5===o&&"Excellent"]})})]})]}),l.jsxs(b.Group,{className:"mb-4",children:[l.jsxs(b.Label,{className:"fw-semibold",children:["Your review ",l.jsx("span",{className:"text-danger",children:"*"})]}),l.jsx(b.Control,{as:"textarea",rows:4,value:s,onChange:n=>m(n.target.value),placeholder:"Share your thoughts about this product. What did you like or dislike about it?",maxLength:1e3,required:!0}),l.jsxs(b.Text,{className:"text-muted",children:[s.length,"/1000 characters"]})]}),l.jsxs("div",{className:"d-flex gap-3",children:[l.jsx(c,{type:"submit",variant:"primary",disabled:P||0===o||!s.trim()||""!==v,className:"flex-grow-1",children:P?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),M?"Updating Review...":"Submitting Review..."]}):v?l.jsxs(l.Fragment,{children:[l.jsx("i",{className:"bi bi-check-circle me-2"}),M?"Review Updated!":"Review Submitted!"]}):l.jsxs(l.Fragment,{children:[l.jsx("i",{className:"bi bi-send me-2"}),M?"Update Review":"Submit Review"]})}),(a||M)&&l.jsx(c,{type:"button",variant:"outline-secondary",onClick:()=>{a&&t?t():(i(k?k.rating:0),m(k?k.comment:""),x(""),w(""))},disabled:P,children:"Cancel"})]})]}),l.jsx("style",{children:"\n        .review-form-card {\n          border: 1px solid var(--border-color);\n          border-radius: var(--border-radius);\n          box-shadow: var(--shadow-sm);\n          background: var(--white);\n        }\n\n        .form-label {\n          color: var(--text-color-dark);\n        }\n\n        .form-control:focus {\n          border-color: var(--primary-color);\n          box-shadow: 0 0 0 0.2rem rgba(var(--primary-color-rgb), 0.25);\n        }\n\n        .btn-primary {\n          background-color: var(--primary-color);\n          border-color: var(--primary-color);\n          font-weight: 500;\n          transition: all 0.3s ease;\n        }\n\n        .btn-primary:hover:not(:disabled) {\n          transform: translateY(-1px);\n          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n        }\n\n        .btn-outline-secondary {\n          border-color: var(--border-color);\n          color: var(--text-color);\n        }\n\n        .btn-outline-secondary:hover:not(:disabled) {\n          background-color: var(--background-light);\n          border-color: var(--text-color-muted);\n        }\n      "})]});return a?l.jsxs(p,{show:e,onHide:t,centered:!0,size:"lg",children:[l.jsx(p.Header,{closeButton:!0,children:l.jsx(p.Title,{children:M?"Edit Your Review":"Write a Review"})}),l.jsx(p.Body,{className:"p-4",children:$})]}):l.jsx(h,{className:"border-0 shadow-sm review-form-card",children:l.jsxs(h.Body,{className:"p-4",children:[l.jsxs("h5",{className:"section-title mb-4",children:[l.jsx("i",{className:"bi bi-pencil-square me-2"}),M?"Edit Your Review":"Write a Review"]}),$]})})},X="\n  /* ===================================================================\n     Product Detail Page - Modern Square Design\n     Extends parent theme variables for consistency\n     =================================================================== */\n\n  /* Loading, Error, Not Found States */\n  .pdp-loading-container,\n  .pdp-error-container,\n  .pdp-not-found-container {\n    min-height: 50vh;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    background: var(--white);\n    border: 1px solid var(--border-color);\n    border-radius: var(--border-radius);\n    box-shadow: var(--shadow-sm);\n    padding: var(--spacing-3xl);\n  }\n\n  .pdp-loading-container .spinner-border {\n    width: 3rem;\n    height: 3rem;\n    color: var(--primary-color);\n    margin-bottom: var(--spacing-lg);\n  }\n\n  .pdp-loading-container h4,\n  .pdp-error-container h4,\n  .pdp-not-found-container h4 {\n    color: var(--text-color-dark);\n    font-weight: 600;\n    margin-bottom: var(--spacing-md);\n  }\n\n  /* Main Product Container */\n  .product-detail-page-container {\n    background: var(--white);\n  }\n\n  /* Product Image Gallery */\n  .product-image-gallery {\n    position: relative;\n  }\n\n  .main-image-wrapper {\n    width: 100%;\n    aspect-ratio: 1;\n    background: var(--background-light);\n    border: 1px solid var(--border-color);\n    border-radius: var(--border-radius);\n    overflow: hidden;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    transition: all var(--transition-speed) var(--transition-timing);\n    position: relative;\n  }\n\n  .main-image-wrapper:hover {\n    border-color: var(--primary-color);\n    box-shadow: var(--shadow-md);\n  }\n\n  .main-image-wrapper img {\n    max-width: 100%;\n    max-height: 100%;\n    object-fit: contain;\n    transition: transform var(--transition-speed) var(--transition-timing);\n  }\n\n  .main-image-wrapper:hover img {\n    transform: scale(1.02);\n  }\n\n  .discount-badge {\n    position: absolute;\n    top: var(--spacing-md);\n    right: var(--spacing-md);\n    background: var(--accent-color);\n    color: var(--white);\n    padding: var(--spacing-xs) var(--spacing-sm);\n    border-radius: var(--border-radius);\n    font-weight: 600;\n    font-size: 12px;\n    box-shadow: var(--shadow-sm);\n    z-index: 2;\n  }\n\n  /* Thumbnail Gallery */\n  .thumbnail-row {\n    display: flex;\n    gap: var(--spacing-sm);\n    overflow-x: auto;\n    padding: var(--spacing-sm) 0;\n    scrollbar-width: thin;\n    scrollbar-color: var(--primary-color) var(--background-light);\n    scroll-behavior: smooth;\n  }\n\n  .thumbnail-row::-webkit-scrollbar {\n    height: 6px;\n  }\n\n  .thumbnail-row::-webkit-scrollbar-track {\n    background: var(--background-light);\n    border-radius: 3px;\n  }\n\n  .thumbnail-row::-webkit-scrollbar-thumb {\n    background: var(--primary-color);\n    border-radius: 3px;\n  }\n\n  .thumbnail-row::-webkit-scrollbar-thumb:hover {\n    background: var(--primary-color);\n    opacity: 0.8;\n  }\n\n  .thumb-wrapper {\n    flex: 0 0 auto;\n    width: 70px;\n    height: 70px;\n    border: 1px solid var(--border-color);\n    border-radius: 0px;\n    overflow: hidden;\n    cursor: pointer;\n    transition: all var(--transition-speed) var(--transition-timing);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: var(--white);\n    position: relative;\n  }\n\n  .thumb-wrapper:hover {\n    border-color: var(--primary-color);\n    box-shadow: 0 0 0 2px rgba(var(--primary-color-rgb), 0.2);\n  }\n\n  .thumb-wrapper.selected-thumb {\n    border-color: var(--primary-color);\n    box-shadow: 0 0 0 2px rgba(var(--primary-color-rgb), 0.3);\n  }\n\n  .thumb-wrapper img {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n  }\n\n  @media (max-width: 576px) {\n    .thumb-wrapper {\n      width: 60px;\n      height: 60px;\n    }\n  }\n\n  /* Product Info */\n  .product-title {\n    font-size: 1.75rem;\n    font-weight: 700;\n    color: var(--text-color-dark);\n    line-height: 1.3;\n    margin-bottom: var(--spacing-lg);\n  }\n\n  .category-badge {\n    background: var(--primary-color);\n    color: var(--white);\n    padding: var(--spacing-xs) var(--spacing-md);\n    border-radius: var(--border-radius);\n    font-weight: 500;\n    font-size: 13px;\n    border: none;\n  }\n\n  .rating-container {\n    background: var(--background-light);\n    border: 1px solid var(--border-color);\n    border-radius: var(--border-radius);\n    padding: var(--spacing-md);\n    display: flex;\n    align-items: center;\n    gap: var(--spacing-md);\n  }\n\n  .rating-stars {\n    display: flex;\n    align-items: center;\n    gap: 2px;\n  }\n\n  .rating-stars i {\n    color: var(--warning-color);\n    font-size: 1rem;\n  }\n\n  .rating-value {\n    font-weight: 600;\n    color: var(--text-color-dark);\n  }\n\n  .rating-count {\n    color: var(--text-color-medium);\n    font-size: 14px;\n  }\n\n  /* Share Buttons */\n  .share-buttons {\n    display: flex;\n    align-items: center;\n    gap: var(--spacing-sm);\n    margin-top: var(--spacing-lg);\n  }\n\n  .share-buttons .btn {\n    width: 36px;\n    height: 36px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: var(--border-radius);\n    border: 1px solid var(--border-color);\n    background: var(--white);\n    color: var(--text-color-medium);\n    transition: all var(--transition-speed) var(--transition-timing);\n    font-size: 14px;\n  }\n\n  .share-buttons .btn:hover {\n    box-shadow: var(--shadow-sm);\n  }\n\n  .share-buttons .btn-facebook:hover {\n    background: #1877f2;\n    color: var(--white);\n    border-color: #1877f2;\n  }\n\n  .share-buttons .btn-twitter:hover {\n    background: #1da1f2;\n    color: var(--white);\n    border-color: #1da1f2;\n  }\n\n  .share-buttons .btn-whatsapp:hover {\n    background: #25d366;\n    color: var(--white);\n    border-color: #25d366;\n  }\n\n  /* Sidebar Card */\n  .sidebar-card {\n    background: var(--white);\n    border: 1px solid var(--border-color);\n    border-radius: var(--border-radius);\n    box-shadow: var(--shadow-sm);\n    position: sticky;\n    top: var(--spacing-2xl);\n  }\n\n  .sidebar-card .card-body {\n    padding: var(--spacing-2xl);\n  }\n\n  /* Pricing Section */\n  .pricing-section {\n    margin-bottom: var(--spacing-2xl);\n    padding-bottom: var(--spacing-lg);\n    border-bottom: 1px solid var(--border-color-light);\n  }\n\n  .current-price {\n    font-size: 2rem;\n    font-weight: 700;\n    color: var(--primary-color);\n    line-height: 1.2;\n    margin-bottom: var(--spacing-xs);\n  }\n\n  .old-price {\n    font-size: 1rem;\n    color: var(--text-color-light);\n    text-decoration: line-through;\n    margin-left: var(--spacing-sm);\n  }\n\n  .savings-badge {\n    background: var(--success-color);\n    color: var(--white);\n    padding: var(--spacing-xs) var(--spacing-sm);\n    border-radius: var(--border-radius);\n    font-weight: 500;\n    font-size: 12px;\n    margin-top: var(--spacing-xs);\n    display: inline-block;\n  }\n\n  /* Stock Status */\n  .stock-container {\n    background: var(--background-light);\n    border: 1px solid var(--border-color);\n    border-radius: var(--border-radius);\n    padding: var(--spacing-lg);\n    margin-bottom: var(--spacing-lg);\n    transition: all var(--transition-speed) var(--transition-timing);\n  }\n\n  .stock-container.in-stock {\n    background: rgba(25, 135, 84, 0.05);\n    border-color: rgba(25, 135, 84, 0.2);\n  }\n\n  .stock-container.out-of-stock {\n    background: rgba(var(--primary-color-rgb), 0.05);\n    border-color: rgba(var(--primary-color-rgb), 0.2);\n  }\n\n  .stock-status {\n    display: flex;\n    align-items: center;\n    gap: var(--spacing-sm);\n    font-weight: 600;\n    margin-bottom: var(--spacing-sm);\n  }\n\n  .stock-status.in-stock {\n    color: var(--success-color);\n  }\n\n  .stock-status.out-of-stock {\n    color: var(--primary-color);\n  }\n\n  .stock-count {\n    color: var(--text-color-medium);\n    font-size: 14px;\n    margin-bottom: var(--spacing-sm);\n  }\n\n  /* Progress Bar */\n  .stock-progress {\n    height: 6px;\n    background: var(--background-muted);\n    border-radius: var(--border-radius);\n    overflow: hidden;\n  }\n\n  .stock-progress .progress-bar {\n    border-radius: var(--border-radius);\n    transition: width 0.6s ease;\n  }\n\n  /* Variants */\n  .variants-section {\n    margin-bottom: var(--spacing-lg);\n  }\n\n  .variant-label {\n    font-weight: 600;\n    color: var(--text-color-dark);\n    margin-bottom: var(--spacing-sm);\n    display: block;\n    font-size: 14px;\n  }\n\n  .variant-options {\n    display: flex;\n    flex-wrap: wrap;\n    gap: var(--spacing-sm);\n  }\n\n  .variant-btn {\n    padding: var(--spacing-sm) var(--spacing-md);\n    border: 1px solid var(--border-color);\n    background: var(--white);\n    color: var(--text-color-medium);\n    border-radius: var(--border-radius);\n    cursor: pointer;\n    transition: all var(--transition-speed) var(--transition-timing);\n    font-weight: 500;\n    font-size: 13px;\n  }\n\n  .variant-btn:hover {\n    border-color: var(--primary-color);\n    color: var(--primary-color);\n    background: var(--background-light);\n  }\n\n  .variant-btn.active {\n    background: var(--primary-color);\n    border-color: var(--primary-color);\n    color: var(--white);\n    box-shadow: var(--shadow-sm);\n  }\n\n  /* Quantity */\n  .quantity-section {\n    margin-bottom: var(--spacing-lg);\n  }\n\n  .quantity-label {\n    font-weight: 600;\n    color: var(--text-color-dark);\n    margin-bottom: var(--spacing-sm);\n    display: block;\n    font-size: 14px;\n  }\n\n  .quantity-input {\n    width: 90px;\n    padding: var(--spacing-sm);\n    border: 1px solid var(--border-color);\n    border-radius: var(--border-radius);\n    font-weight: 500;\n    text-align: center;\n    transition: all var(--transition-speed) var(--transition-timing);\n    font-size: 14px;\n  }\n\n  .quantity-input:focus {\n    border-color: var(--primary-color);\n    box-shadow: 0 0 0 2px rgba(var(--primary-color-rgb), 0.1);\n    outline: none;\n  }\n\n  /* Action Buttons */\n  .action-buttons {\n    display: flex;\n    flex-direction: column;\n    gap: var(--spacing-md);\n  }\n\n  .btn-add-to-cart,\n  .btn-buy-now {\n    padding: var(--spacing-md) var(--spacing-lg);\n    font-size: 14px;\n    font-weight: 600;\n    border-radius: var(--border-radius);\n    border: 1px solid transparent;\n    transition: all var(--transition-speed) var(--transition-timing);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: var(--spacing-sm);\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n  }\n\n  .btn-add-to-cart {\n    background: var(--primary-color);\n    color: var(--white);\n    border-color: var(--primary-color);\n  }\n\n  .btn-add-to-cart:hover:not(:disabled) {\n    background: var(--primary-color-dark);\n    border-color: var(--primary-color-dark);\n    color: var(--white);\n    box-shadow: var(--shadow-md);\n  }\n\n  .btn-buy-now {\n    background: var(--white);\n    color: var(--primary-color);\n    border-color: var(--primary-color);\n  }\n\n  .btn-buy-now:hover:not(:disabled) {\n    background: var(--primary-color);\n    color: var(--white);\n    border-color: var(--primary-color);\n  }\n\n  .btn-add-to-cart:disabled,\n  .btn-buy-now:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n  }\n\n  /* Checkout Button */\n  .btn-checkout {\n    width: 100%;\n    padding: 0.75rem;\n    margin-top: 0.75rem;\n    font-weight: 600;\n    font-size: 0.95rem;\n    border-radius: var(--border-radius);\n    border: none;\n    background: #28a745 !important;\n    color: white !important;\n    transition: all var(--transition-speed) var(--transition-timing);\n    box-shadow: 0 2px 8px rgba(40, 167, 69, 0.3);\n  }\n\n  .btn-checkout:hover {\n    background: #218838 !important;\n    color: white !important;\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(40, 167, 69, 0.4);\n  }\n\n  .btn-checkout:active {\n    transform: translateY(0);\n  }\n\n  .btn-checkout:focus {\n    box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.25);\n  }\n\n  /* Product Tabs */\n  .product-tabs {\n    background: var(--white);\n    border: 1px solid var(--border-color);\n    border-radius: var(--border-radius);\n    box-shadow: var(--shadow-sm);\n    overflow: hidden;\n    margin-bottom: var(--spacing-2xl);\n  }\n\n  .product-tabs .nav-pills {\n    background: var(--background-light);\n    padding: var(--spacing-lg);\n    border-bottom: 1px solid var(--border-color);\n    margin-bottom: 0;\n  }\n\n  .product-tabs .nav-pills .nav-link {\n    background: transparent;\n    color: var(--text-color-medium);\n    font-weight: 500;\n    border-radius: var(--border-radius);\n    padding: var(--spacing-sm) var(--spacing-lg);\n    margin-right: var(--spacing-sm);\n    border: 1px solid transparent;\n    transition: all var(--transition-speed) var(--transition-timing);\n    font-size: 14px;\n  }\n\n  .product-tabs .nav-pills .nav-link:hover {\n    background: var(--white);\n    color: var(--text-color-dark);\n    border-color: var(--border-color);\n  }\n\n  .product-tabs .nav-pills .nav-link.active {\n    background: var(--primary-color);\n    color: var(--white);\n    border-color: var(--primary-color);\n  }\n\n  .product-tabs .tab-content {\n    padding: var(--spacing-2xl);\n    background: var(--white);\n  }\n\n  .product-tabs .tab-pane {\n    color: var(--text-color-medium);\n    line-height: 1.6;\n  }\n\n  /* Specifications Table */\n  .specs-table {\n    width: 100%;\n    border-collapse: separate;\n    border-spacing: 0;\n    border: 1px solid var(--border-color);\n    border-radius: var(--border-radius);\n    overflow: hidden;\n  }\n\n  .specs-table th,\n  .specs-table td {\n    padding: var(--spacing-md);\n    text-align: left;\n    border-bottom: 1px solid var(--border-color);\n  }\n\n  .specs-table th {\n    background: var(--background-light);\n    font-weight: 600;\n    color: var(--text-color-dark);\n    width: 30%;\n    font-size: 14px;\n  }\n\n  .specs-table td {\n    color: var(--text-color-medium);\n    font-size: 14px;\n  }\n\n  .specs-table tr:last-child th,\n  .specs-table tr:last-child td {\n    border-bottom: none;\n  }\n\n  .specs-table tr:nth-child(even) {\n    background: var(--background-muted);\n  }\n\n  /* Product Tags */\n  .product-tags {\n    display: flex;\n    flex-wrap: wrap;\n    gap: var(--spacing-xs);\n    margin-top: var(--spacing-sm);\n  }\n\n  .product-tag {\n    background: var(--primary-color);\n    color: var(--white);\n    padding: var(--spacing-xs) var(--spacing-sm);\n    border-radius: var(--border-radius);\n    font-size: 11px;\n    font-weight: 500;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n    transition: all var(--transition-speed) var(--transition-timing);\n    cursor: pointer;\n    border: 1px solid transparent;\n    user-select: none;\n    outline: none;\n  }\n\n  .product-tag:hover,\n  .product-tag:focus {\n    background: var(--white);\n    color: var(--primary-color);\n    border-color: var(--primary-color);\n    transform: translateY(-1px);\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  }\n\n  .product-tag:active {\n    transform: translateY(0);\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  }\n\n  .product-tag.secondary {\n    background: var(--text-color-light);\n    color: var(--white);\n  }\n\n  .product-tag.secondary:hover,\n  .product-tag.secondary:focus {\n    background: var(--white);\n    color: var(--text-color-dark);\n    border-color: var(--text-color-light);\n    transform: translateY(-1px);\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  }\n\n  .product-tag.secondary:active {\n    transform: translateY(0);\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  }\n\n  /* Product Attributes Section */\n  .product-attributes {\n    margin-top: var(--spacing-lg);\n    padding: 0;\n    border: none;\n  }\n\n  .product-attributes h5 {\n    font-size: 1.1rem;\n    font-weight: 600;\n    margin-bottom: 1rem;\n    color: var(--primary-color);\n    letter-spacing: 0.5px;\n    text-transform: capitalize;\n    padding-bottom: 0.5rem;\n    border-bottom: 2px solid var(--primary-color);\n    position: relative;\n  }\n\n  .attributes-grid {\n    display: grid;\n    grid-template-columns: 1fr;\n    gap: 0;\n    padding: 0;\n    border: none;\n    background: transparent;\n  }\n\n  .attribute-row {\n    display: grid;\n    grid-template-columns: 1fr 2fr;\n    gap: 0.75rem;\n    padding: 0.4rem 0.5rem;\n    align-items: start;\n    border-bottom: none;\n  }\n\n  .attribute-row:nth-child(even) {\n    background: var(--bs-light);\n  }\n\n  .attribute-label {\n    font-size: 0.8rem;\n    font-weight: 600;\n    color: var(--bs-secondary);\n    line-height: 1.3;\n    text-transform: uppercase;\n    letter-spacing: 0.3px;\n  }\n\n  .attribute-value {\n    font-size: 0.8rem;\n    color: var(--bs-dark);\n    line-height: 1.3;\n    font-weight: 400;\n  }\n\n  @media (max-width: 768px) {\n    .attribute-row {\n      grid-template-columns: 1fr;\n      gap: 0.1rem;\n    }\n  }\n\n  /* Related Products */\n  .related-products {\n    background: var(--white);\n    border: 1px solid var(--border-color);\n    border-radius: var(--border-radius);\n    box-shadow: var(--shadow-sm);\n    padding: 1.5rem;\n    margin-top: 2rem;\n  }\n\n  .related-products h3 {\n    color: var(--text-color-dark);\n    font-weight: 600;\n    margin-bottom: 1.5rem;\n    font-size: 1.2rem;\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n  }\n\n  .related-products h3::before {\n    content: \"\";\n    width: 3px;\n    height: 20px;\n    background: var(--primary-color);\n    border-radius: 2px;\n  }\n\n  .related-products-slider {\n    position: relative;\n    overflow: hidden;\n  }\n\n  .related-products-container {\n    display: flex;\n    gap: 1rem;\n    transition: transform 0.3s ease;\n    overflow-x: auto;\n    scroll-behavior: smooth;\n    scrollbar-width: none;\n    -ms-overflow-style: none;\n    padding-bottom: 0.5rem;\n  }\n\n  .related-products-container::-webkit-scrollbar {\n    display: none;\n  }\n\n  .related-product-item {\n    flex: 0 0 200px;\n    min-width: 200px;\n  }\n\n  .related-product-card {\n    background: var(--white);\n    border: 1px solid var(--border-color-light);\n    border-radius: var(--border-radius);\n    overflow: hidden;\n    transition: all 0.3s ease;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .related-product-card:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\n    border-color: var(--primary-color);\n  }\n\n  .related-product-image {\n    position: relative;\n    width: 100%;\n    height: 150px;\n    overflow: hidden;\n    background: var(--bg-light);\n  }\n\n  .related-product-image img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    transition: transform 0.3s ease;\n  }\n\n  .related-product-card:hover .related-product-image img {\n    transform: scale(1.05);\n  }\n\n  .related-product-content {\n    padding: 0.75rem;\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .related-product-title {\n    font-size: 0.85rem;\n    font-weight: 500;\n    color: var(--text-color-dark);\n    margin-bottom: 0.5rem;\n    line-height: 1.3;\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n    text-decoration: none;\n    flex: 1;\n  }\n\n  .related-product-title:hover {\n    color: var(--primary-color);\n  }\n\n  .related-product-price {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    margin-bottom: 0.75rem;\n  }\n\n  .related-product-price-current {\n    font-size: 0.9rem;\n    font-weight: 600;\n    color: var(--primary-color);\n  }\n\n  .related-product-price-original {\n    font-size: 0.8rem;\n    color: var(--text-color-muted);\n    text-decoration: line-through;\n  }\n\n  .related-product-discount {\n    background: var(--accent-color);\n    color: white;\n    font-size: 0.7rem;\n    font-weight: 500;\n    padding: 0.15rem 0.4rem;\n    border-radius: 8px;\n  }\n\n  .related-product-actions {\n    display: flex;\n    gap: 0.5rem;\n  }\n\n  .related-product-btn {\n    flex: 1;\n    padding: 0.4rem 0.5rem;\n    border: none;\n    border-radius: var(--border-radius);\n    font-size: 0.8rem;\n    font-weight: 500;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    text-decoration: none;\n    text-align: center;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 0.3rem;\n  }\n\n  .related-product-btn-primary {\n    background: var(--primary-color);\n    color: white;\n  }\n\n  .related-product-btn-primary:hover {\n    background: var(--primary-color-dark);\n    transform: translateY(-1px);\n  }\n\n  .related-product-btn-outline {\n    background: transparent;\n    color: var(--text-color-dark);\n    border: 1px solid var(--border-color);\n  }\n\n  .related-product-btn-outline:hover {\n    border-color: var(--primary-color);\n    color: var(--primary-color);\n    background: var(--primary-color-light);\n  }\n\n  .slider-button {\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n    width: 32px;\n    height: 32px;\n    border: none;\n    border-radius: 50%;\n    background: var(--white);\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n    color: var(--text-color-dark);\n    font-size: 16px;\n    font-weight: bold;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    z-index: 2;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .slider-button:hover {\n    background: var(--primary-color);\n    color: white;\n    transform: translateY(-50%) scale(1.1);\n  }\n\n  .slider-button:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    transform: translateY(-50%);\n  }\n\n  .slider-button.prev {\n    left: -16px;\n  }\n\n  .slider-button.next {\n    right: -16px;\n  }\n\n  /* Mobile responsive adjustments */\n  @media (max-width: 768px) {\n    .related-products {\n      padding: 1rem;\n      margin-top: 1rem;\n    }\n\n    .related-product-item {\n      flex: 0 0 180px;\n      min-width: 180px;\n    }\n\n    .related-product-image {\n      height: 120px;\n    }\n\n    .related-product-content {\n      padding: 0.5rem;\n    }\n\n    .related-product-title {\n      font-size: 0.8rem;\n    }\n\n    .related-product-price-current {\n      font-size: 0.85rem;\n    }\n\n    .related-product-btn {\n      padding: 0.3rem 0.4rem;\n      font-size: 0.75rem;\n    }\n\n    .slider-button {\n      width: 28px;\n      height: 28px;\n      font-size: 14px;\n    }\n\n    .slider-button.prev {\n      left: -14px;\n    }\n\n    .slider-button.next {\n      right: -14px;\n    }\n  }\n\n  @media (max-width: 480px) {\n    .related-product-item {\n      flex: 0 0 160px;\n      min-width: 160px;\n    }\n\n    .related-product-image {\n      height: 100px;\n    }\n\n    .related-product-actions {\n      flex-direction: column;\n      gap: 0.3rem;\n    }\n\n    .related-product-btn {\n      padding: 0.35rem;\n      font-size: 0.7rem;\n    }\n  }\n    transform: translateY(-50%);\n    width: 36px;\n    height: 36px;\n    background: var(--white);\n    border: 1px solid var(--border-color);\n    border-radius: var(--border-radius);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    font-size: 16px;\n    color: var(--text-color-dark);\n    transition: all var(--transition-speed) var(--transition-timing);\n    z-index: 2;\n    box-shadow: var(--shadow-sm);\n  }\n\n  .slider-button:hover {\n    background: var(--primary-color);\n    color: var(--white);\n    border-color: var(--primary-color);\n    box-shadow: var(--shadow-md);\n  }\n\n  .slider-button.prev {\n    left: -18px;\n  }\n\n  .slider-button.next {\n    right: -18px;\n  }\n\n  .slider-button:disabled {\n    opacity: 0.3;\n    cursor: not-allowed;\n    background: var(--background-light);\n    color: var(--text-color-light);\n  }\n\n  .slider-button:disabled:hover {\n    background: var(--background-light);\n    color: var(--text-color-light);\n    border-color: var(--border-color);\n  }\n\n  /* Fullscreen Modal Styles */\n  .fullscreen-modal {\n    position: fixed !important;\n    top: 0 !important;\n    left: 0 !important;\n    width: 100vw !important;\n    height: 100vh !important;\n    background: rgba(0, 0, 0, 0.95) !important;\n    z-index: 9999 !important;\n    display: flex !important;\n    align-items: center !important;\n    justify-content: center !important;\n    backdrop-filter: blur(3px);\n  }\n\n  .fullscreen-modal .modal-dialog {\n    max-width: none !important;\n    width: 100% !important;\n    height: 100% !important;\n    margin: 0 !important;\n    display: flex !important;\n    align-items: center !important;\n    justify-content: center !important;\n    position: relative !important;\n  }\n\n  .fullscreen-modal .modal-content {\n    background: transparent !important;\n    border: none !important;\n    border-radius: 0 !important;\n    box-shadow: none !important;\n    width: 100% !important;\n    height: 100% !important;\n    display: flex !important;\n    align-items: center !important;\n    justify-content: center !important;\n    position: relative !important;\n  }\n\n  .fullscreen-modal .modal-header,\n  .fullscreen-modal .modal-footer {\n    display: none !important;\n  }\n\n  .fullscreen-modal .modal-body {\n    padding: 0 !important;\n    width: 100% !important;\n    height: 100% !important;\n    display: flex !important;\n    align-items: center !important;\n    justify-content: center !important;\n    position: relative !important;\n    background: transparent !important;\n  }\n\n  .modal-image-container {\n    position: relative;\n    width: 100vw;\n    height: 100vh;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: transparent;\n    overflow: hidden;\n    padding: 0;\n  }\n\n  .modal-image-wrapper {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: calc(100vw - 140px); /* Account for nav buttons */\n    height: calc(100vh - 100px); /* Account for close button and counter */\n    max-width: calc(100vw - 140px);\n    max-height: calc(100vh - 100px);\n    background: transparent;\n    border-radius: 8px;\n    overflow: hidden;\n  }\n\n  .modal-close-btn {\n    position: absolute;\n    top: 20px;\n    right: 20px;\n    background: rgba(255, 255, 255, 0.9);\n    border: none;\n    width: 44px;\n    height: 44px;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    z-index: 10001;\n    transition: all 0.2s ease;\n    color: var(--text-color-dark);\n    font-size: 18px;\n    font-weight: 600;\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);\n  }\n\n  .modal-close-btn:hover {\n    background: rgba(255, 255, 255, 1);\n    transform: scale(1.1);\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);\n  }\n\n  .modal-nav-btn {\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n    background: rgba(255, 255, 255, 0.9);\n    border: none;\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    z-index: 10001;\n    transition: all 0.2s ease;\n    color: var(--text-color-dark);\n    font-size: 24px;\n    font-weight: 600;\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);\n  }\n\n  .modal-nav-btn:hover {\n    background: rgba(255, 255, 255, 1);\n    transform: translateY(-50%) scale(1.1);\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);\n  }\n\n  .modal-nav-btn.prev {\n    left: 20px;\n  }\n\n  .modal-nav-btn.next {\n    right: 20px;\n  }\n\n  .modal-nav-btn:disabled {\n    opacity: 0.3;\n    cursor: not-allowed;\n  }\n\n  .modal-nav-btn:disabled:hover {\n    transform: translateY(-50%) scale(1);\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);\n  }\n\n  .modal-image-counter {\n    position: absolute;\n    bottom: 20px;\n    left: 50%;\n    transform: translateX(-50%);\n    background: rgba(255, 255, 255, 0.9);\n    padding: 8px 16px;\n    border-radius: 20px;\n    font-size: 14px;\n    font-weight: 600;\n    color: var(--text-color-dark);\n    z-index: 10001;\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);\n  }\n\n  @media (max-width: 768px) {\n    .modal-close-btn {\n      top: 10px;\n      right: 10px;\n      width: 40px;\n      height: 40px;\n      font-size: 16px;\n    }\n\n    .modal-nav-btn {\n      width: 44px;\n      height: 44px;\n      font-size: 20px;\n    }\n\n    .modal-nav-btn.prev {\n      left: 10px;\n    }\n\n    .modal-nav-btn.next {\n      right: 10px;\n    }\n\n    .modal-image-counter {\n      bottom: 10px;\n      padding: 6px 12px;\n      font-size: 12px;\n    }\n\n    .modal-image-wrapper {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      width: calc(100vw - 88px); /* Account for smaller nav buttons on mobile */\n      height: calc(100vh - 80px); /* Account for smaller controls on mobile */\n      max-width: calc(100vw - 88px);\n      max-height: calc(100vh - 80px);\n    }\n  }\n\n  /* Responsive Design */\n  @media (max-width: 991.98px) {\n    .sidebar-card {\n      position: relative;\n      top: auto;\n      margin-top: var(--spacing-2xl);\n    }\n\n    .product-title {\n      font-size: 1.5rem;\n    }\n\n    .current-price {\n      font-size: 1.75rem;\n    }\n\n    .product-detail-page-container {\n      padding: var(--spacing-lg);\n    }\n  }\n\n  @media (max-width: 767.98px) {\n    .product-detail-page-container {\n      padding: var(--spacing-md);\n    }\n\n    .product-title {\n      font-size: 1.25rem;\n    }\n\n    .current-price {\n      font-size: 1.5rem;\n    }\n\n    .action-buttons {\n      gap: var(--spacing-sm);\n    }\n\n    .btn-add-to-cart,\n    .btn-buy-now {\n      padding: var(--spacing-sm) var(--spacing-md);\n      font-size: 13px;\n    }\n\n    .related-product-item {\n      flex: 0 0 220px;\n      min-width: 220px;\n    }\n\n    .slider-button {\n      width: 32px;\n      height: 32px;\n      font-size: 14px;\n    }\n\n    .slider-button.prev {\n      left: -16px;\n    }\n\n    .slider-button.next {\n      right: -16px;\n    }\n\n    .sidebar-card .card-body {\n      padding: var(--spacing-lg);\n    }\n\n    .product-tabs .nav-pills {\n      padding: var(--spacing-md);\n    }\n\n    .product-tabs .tab-content {\n      padding: var(--spacing-lg);\n    }\n  }\n\n  @media (max-width: 575.98px) {\n    .action-buttons {\n      flex-direction: column;\n    }\n\n    .share-buttons {\n      justify-content: center;\n    }\n\n    .related-products {\n      padding: var(--spacing-lg);\n    }\n\n    .related-product-item {\n      flex: 0 0 200px;\n      min-width: 200px;\n    }\n  }\n\n  /* ===================================================================\n     Product Description Content Styling\n     =================================================================== */\n  .product-description-content {\n    font-size: 0.875rem;\n    line-height: 1.6;\n    color: var(--text-color);\n    word-wrap: break-word;\n    overflow-wrap: break-word;\n  }\n\n  .product-description-content * {\n    max-width: 100%;\n    box-sizing: border-box;\n  }\n\n  /* Typography */\n  .product-description-content p {\n    margin-bottom: 1rem;\n    line-height: 1.6;\n  }\n\n  .product-description-content h1,\n  .product-description-content h2,\n  .product-description-content h3,\n  .product-description-content h4,\n  .product-description-content h5,\n  .product-description-content h6 {\n    color: var(--primary-color);\n    font-weight: 600;\n    margin: 1.5rem 0 0.75rem 0;\n    line-height: 1.3;\n  }\n\n  .product-description-content h1 { font-size: 1.5rem; }\n  .product-description-content h2 { font-size: 1.375rem; }\n  .product-description-content h3 { font-size: 1.25rem; }\n  .product-description-content h4 { font-size: 1.125rem; }\n  .product-description-content h5 { font-size: 1rem; }\n  .product-description-content h6 { font-size: 0.875rem; }\n\n  /* Lists */\n  .product-description-content ul,\n  .product-description-content ol {\n    margin: 1rem 0;\n    padding-left: 1.5rem;\n  }\n\n  .product-description-content li {\n    margin-bottom: 0.5rem;\n    line-height: 1.5;\n  }\n\n  /* Images */\n  .product-description-content img {\n    max-width: 250px !important;\n    width: auto !important;\n    height: auto !important;\n    border-radius: var(--border-radius);\n    box-shadow: var(--shadow-sm);\n    margin: 1rem auto;\n    display: block;\n  }\n\n  .product-description-content figure {\n    margin: 1rem 0;\n    text-align: center;\n  }\n\n  .product-description-content figcaption {\n    font-size: 0.75rem;\n    color: var(--text-color-light);\n    margin-top: 0.5rem;\n    font-style: italic;\n  }\n\n  /* Tables */\n  .product-description-content table {\n    width: 100%;\n    border-collapse: collapse;\n    margin: 1.5rem 0;\n    font-size: 0.875rem;\n    background: var(--white);\n    border-radius: var(--border-radius);\n    overflow: hidden;\n    box-shadow: var(--shadow-sm);\n  }\n\n  .product-description-content table th,\n  .product-description-content table td {\n    padding: 0.75rem;\n    text-align: left;\n    border-bottom: 1px solid var(--border-color);\n    vertical-align: top;\n  }\n\n  .product-description-content table th {\n    background: var(--background-light);\n    color: var(--text-color-dark);\n    font-weight: 600;\n    font-size: 0.8rem;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n  }\n\n  .product-description-content table tr:last-child td {\n    border-bottom: none;\n  }\n\n  .product-description-content table tr:hover {\n    background: var(--background-light);\n  }\n\n  /* Links */\n  .product-description-content a {\n    color: var(--primary-color);\n    text-decoration: none;\n    border-bottom: 1px solid transparent;\n    transition: all var(--transition-speed) var(--transition-timing);\n  }\n\n  .product-description-content a:hover {\n    color: var(--primary-color-dark);\n    border-bottom-color: var(--primary-color);\n  }\n\n  /* Blockquotes */\n  .product-description-content blockquote {\n    margin: 1.5rem 0;\n    padding: 1rem 1.5rem;\n    border-left: 4px solid var(--primary-color);\n    background: var(--background-light);\n    border-radius: 0 var(--border-radius) var(--border-radius) 0;\n    font-style: italic;\n  }\n\n  /* Code */\n  .product-description-content code {\n    background: var(--background-light);\n    color: var(--primary-color);\n    padding: 0.2rem 0.4rem;\n    border-radius: 4px;\n    font-family: 'Courier New', monospace;\n    font-size: 0.8rem;\n  }\n\n  .product-description-content pre {\n    background: var(--background-light);\n    color: var(--text-color-dark);\n    padding: 1rem;\n    border-radius: var(--border-radius);\n    overflow-x: auto;\n    margin: 1rem 0;\n    font-family: 'Courier New', monospace;\n    font-size: 0.8rem;\n    line-height: 1.4;\n  }\n\n  .product-description-content pre code {\n    background: none;\n    color: inherit;\n    padding: 0;\n  }\n\n  /* Dividers */\n  .product-description-content hr {\n    border: none;\n    height: 1px;\n    background: var(--border-color);\n    margin: 2rem 0;\n  }\n\n  /* Strong and emphasis */\n  .product-description-content strong,\n  .product-description-content b {\n    color: var(--text-color-dark);\n    font-weight: 600;\n  }\n\n  .product-description-content em,\n  .product-description-content i {\n    font-style: italic;\n    color: var(--text-color);\n  }\n\n  /* Video and iframe responsiveness */\n  .product-description-content iframe,\n  .product-description-content video,\n  .product-description-content embed,\n  .product-description-content object {\n    max-width: 100%;\n    height: auto;\n    margin: 1rem 0;\n    border-radius: var(--border-radius);\n  }\n\n  /* Responsive iframe wrapper */\n  .product-description-content .video-wrapper {\n    position: relative;\n    padding-bottom: 56.25%; /* 16:9 aspect ratio */\n    height: 0;\n    overflow: hidden;\n    margin: 1rem 0;\n    border-radius: var(--border-radius);\n  }\n\n  .product-description-content .video-wrapper iframe {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    margin: 0;\n  }\n\n  /* Mobile responsiveness */\n  @media (max-width: 768px) {\n    .product-description-content {\n      font-size: 0.8rem;\n    }\n\n    .product-description-content h1 { font-size: 1.25rem; }\n    .product-description-content h2 { font-size: 1.125rem; }\n    .product-description-content h3 { font-size: 1rem; }\n    .product-description-content h4 { font-size: 0.95rem; }\n    .product-description-content h5 { font-size: 0.9rem; }\n    .product-description-content h6 { font-size: 0.85rem; }\n\n    .product-description-content table {\n      font-size: 0.75rem;\n    }\n\n    .product-description-content table th,\n    .product-description-content table td {\n      padding: 0.5rem;\n    }\n  }\n\n  /* ===================================================================\n     Page Navigator Styling\n     =================================================================== */\n  .page-navigator {\n    border-top: 1px solid var(--border-color);\n    padding-top: 1rem;\n  }\n\n  .navigator-title {\n    font-size: 0.9rem;\n    font-weight: 600;\n    color: var(--text-color-dark);\n    margin-bottom: 0.75rem;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n  }\n\n  .navigator-links {\n    display: flex;\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n\n  .nav-link-btn {\n    display: flex;\n    align-items: center;\n    gap: 0.75rem;\n    padding: 0.75rem;\n    background: transparent;\n    border: 1px solid var(--border-color);\n    border-radius: var(--border-radius);\n    color: var(--text-color);\n    text-decoration: none;\n    transition: all var(--transition-speed) var(--transition-timing);\n    cursor: pointer;\n    font-size: 0.875rem;\n    width: 100%;\n    text-align: left;\n  }\n\n  .nav-link-btn:hover {\n    background: var(--background-light);\n    border-color: var(--primary-color);\n    color: var(--primary-color);\n    transform: translateX(2px);\n  }\n\n  .nav-link-btn:focus {\n    outline: none;\n    box-shadow: 0 0 0 2px var(--primary-color-light);\n  }\n\n  .nav-link-btn i {\n    font-size: 1rem;\n    width: 16px;\n    text-align: center;\n    color: var(--primary-color);\n  }\n\n  .nav-link-btn span {\n    font-weight: 500;\n  }\n\n  /* Mobile responsiveness for navigator */\n  @media (max-width: 992px) {\n    .page-navigator {\n      display: none;\n    }\n\n    /* Hide desktop action buttons on mobile */\n    .action-buttons {\n      display: none;\n    }\n  }\n\n  /* ===================================================================\n     Mobile Sticky Bottom Bar\n     =================================================================== */\n  .mobile-sticky-bottom {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background: var(--white);\n    border-top: 1px solid var(--border-color);\n    padding: 1rem;\n    z-index: 1000;\n    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);\n    display: none;\n  }\n\n  .mobile-action-buttons {\n    display: flex;\n    gap: 0.75rem;\n    max-width: 500px;\n    margin: 0 auto;\n  }\n\n  .mobile-btn-add-to-cart,\n  .mobile-btn-buy-now {\n    flex: 1;\n    padding: 0.875rem 1rem;\n    font-weight: 600;\n    font-size: 0.95rem;\n    border-radius: var(--border-radius);\n    border: 2px solid var(--primary-color);\n    transition: all var(--transition-speed) var(--transition-timing);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 0.5rem;\n  }\n\n  .mobile-btn-add-to-cart {\n    background: var(--white);\n    color: var(--primary-color);\n  }\n\n  .mobile-btn-add-to-cart:hover:not(:disabled) {\n    background: var(--primary-color-light);\n    color: var(--primary-color);\n    border-color: var(--primary-color);\n  }\n\n  .mobile-btn-buy-now {\n    background: var(--primary-color);\n    color: var(--white);\n    border-color: var(--primary-color);\n  }\n\n  .mobile-btn-buy-now:hover:not(:disabled) {\n    background: var(--primary-color-dark);\n    color: var(--white);\n    border-color: var(--primary-color-dark);\n  }\n\n  .mobile-btn-add-to-cart:disabled,\n  .mobile-btn-buy-now:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n  }\n\n  /* Show mobile bar only on mobile devices */\n  @media (max-width: 992px) {\n    .mobile-sticky-bottom {\n      display: block;\n    }\n\n    /* Add bottom padding to container to prevent content overlap */\n    .container {\n      padding-bottom: 100px;\n    }\n  }\n\n  /* Hide mobile bar on desktop */\n  @media (min-width: 993px) {\n    .mobile-sticky-bottom {\n      display: none;\n    }\n  }\n\n  /* ===================================================================\n     Section Titles Styling\n     =================================================================== */\n  .section-title {\n    color: var(--primary-color);\n    font-weight: 600;\n    font-size: 1.25rem;\n    margin-bottom: 1rem;\n    padding-bottom: 0.75rem;\n    border-bottom: 2px solid var(--primary-color);\n    position: relative;\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n  }\n\n  .section-title i {\n    color: var(--primary-color);\n    font-size: 1.1rem;\n  }\n\n  .section-title::after {\n    content: '';\n    position: absolute;\n    bottom: -2px;\n    left: 0;\n    width: 50px;\n    height: 2px;\n    background: var(--primary-color-light);\n    border-radius: 1px;\n  }\n\n  /* Apply to existing section titles */\n  .card-body h5:first-child,\n  .product-attributes h5,\n  .navigator-title {\n    color: var(--primary-color);\n    font-weight: 600;\n    margin-bottom: 1rem;\n    padding-bottom: 0.75rem;\n    border-bottom: 2px solid var(--primary-color);\n    position: relative;\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n  }\n\n  .card-body h5:first-child::after,\n  .product-attributes h5::after,\n  .navigator-title::after {\n    content: '';\n    position: absolute;\n    bottom: -2px;\n    left: 0;\n    width: 50px;\n    height: 2px;\n    background: var(--primary-color-light);\n    border-radius: 1px;\n  }\n\n  .card-body h5:first-child i,\n  .product-attributes h5 i,\n  .navigator-title i {\n    color: var(--primary-color);\n    font-size: 1.1rem;\n  }\n\n  /* Related products title */\n  .related-products h3 {\n    color: var(--primary-color);\n    font-weight: 600;\n    font-size: 1.5rem;\n    margin-bottom: 1.5rem;\n    padding-bottom: 0.75rem;\n    border-bottom: 2px solid var(--primary-color);\n    position: relative;\n  }\n\n  .related-products h3::after {\n    content: '';\n    position: absolute;\n    bottom: -2px;\n    left: 0;\n    width: 60px;\n    height: 2px;\n    background: var(--primary-color-light);\n    border-radius: 1px;\n  }\n\n  /* Mobile responsiveness for section titles */\n  @media (max-width: 768px) {\n    .section-title,\n    .card-body h5:first-child,\n    .product-attributes h5,\n    .navigator-title {\n      font-size: 1.1rem;\n    }\n\n    .related-products h3 {\n      font-size: 1.3rem;\n    }\n\n    .section-title::after,\n    .card-body h5:first-child::after,\n    .product-attributes h5::after,\n    .navigator-title::after,\n    .related-products h3::after {\n      width: 40px;\n    }\n  }\n",V=()=>{const{id:n}=w(),t=y(),a=E(),{addToCart:o,isInCart:i}=P(),u=f.useMemo((()=>parseInt(n||"0",10)),[n]),{data:k,isLoading:N,isFetching:z,isError:C,error:_}=$(u,{skip:!u}),{data:I}=T({page:1,limit:4,category:(null==k?void 0:k.category)||void 0},{skip:!(null==k?void 0:k.category)}),F=(null==I?void 0:I.data)||[],[R,M]=f.useState(""),[L,A]=f.useState(!1),[Y,q]=f.useState(1),[W,V]=f.useState({}),[Q,K]=f.useState(!1);f.useState(0);const[J,Z]=f.useState(0),[nn,rn]=f.useState(!1),en=n=>{t(`/search?q=${encodeURIComponent(n)}`)};f.useEffect((()=>{if(k)try{M(k.getMainImage()),A(!1);const n={};k.variants&&"object"==typeof k.variants&&Object.entries(k.variants).forEach((([r,e])=>{Array.isArray(e)&&e.length&&(n[r]=e[0])})),V(n)}catch(n){M("/media/svg/files/blank-image.svg"),A(!0)}}),[k]),f.useEffect((()=>{const n=()=>{Q&&K(!1)};return Q?(window.history.pushState({modalOpen:!0},""),window.addEventListener("popstate",n),document.body.style.overflow="hidden"):document.body.style.overflow="",()=>{window.removeEventListener("popstate",n),document.body.style.overflow=""}}),[Q]),f.useEffect((()=>{const n=n=>{"Escape"===n.key&&Q&&K(!1)},r=n=>{Q&&un.length>1&&("ArrowLeft"===n.key?(n.preventDefault(),hn()):"ArrowRight"===n.key&&(n.preventDefault(),gn()))};return document.addEventListener("keydown",n),document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",n),document.removeEventListener("keydown",r)}}),[Q,J]);const tn=f.useMemo((()=>k&&Number(k.price_1)||0),[k]),an=f.useMemo((()=>k&&Number(k.price_2)||0),[k]),on=f.useMemo((()=>k&&an>tn?Math.round((an-tn)/an*100):0),[k,tn,an]),sn=f.useMemo((()=>{var n,r;return null!=(r=null==(n=null==k?void 0:k.stock)?void 0:n.items_sold)?r:0}),[k]),dn=f.useMemo((()=>{var n,r;return null!=(r=null==(n=null==k?void 0:k.stock)?void 0:n.total_items)?r:0}),[k]),ln=f.useMemo((()=>Math.floor(901*Math.random())+100),[]);f.useMemo((()=>dn?Math.min(100,sn/dn*100):0),[dn,sn]);const cn=f.useMemo((()=>dn>0&&ln<=0),[dn,ln]),mn=(n,t)=>V((a=>{return o=s({},a),r(o,e({[n]:t}));var o})),pn=()=>d(void 0,null,(function*(){try{if(cn||Y<1)return void a(B({message:"Cannot add to cart â€“ out of stock or invalid quantity.",type:"error"}));const n=s({color:W.Color||W.color||"",size:W.Size||W.size||""},W);if(k){(yield o(k,Y,n))&&q(1)}}catch(n){a(B({message:"Failed to add item to cart",type:"error"}))}})),bn=()=>d(void 0,null,(function*(){if(cn||Y<1)return void a(B({message:"Cannot proceed â€“ out of stock or invalid quantity.",type:"error"}));const n=s({color:W.Color||W.color||"",size:W.Size||W.size||""},W);if(k){if(!kn){if(!(yield o(k,Y,n)))return void a(B({message:"Failed to add item to cart",type:"error"}))}a(B({message:"Proceeding to checkout...",type:"info"})),t("/checkout")}})),un=f.useMemo((()=>{if(!k)return[];try{const n=k.getMainImage&&"function"==typeof k.getMainImage?k.getMainImage():k.feature_photo||"/media/svg/files/blank-image.svg",r=k.getAllImages&&"function"==typeof k.getAllImages&&k.getAllImages()||[],e=new Set([n,...r].filter(Boolean));return Array.from(e)}catch(n){return["/media/svg/files/blank-image.svg"]}}),[k]),hn=()=>{J>0&&Z(J-1)},gn=()=>{J<un.length-1&&Z(J+1)},xn=()=>{K(!1)},vn=f.useMemo((()=>{if(!un.length)return R||"/media/svg/files/blank-image.svg";return un[J]||un[0]||R||"/media/svg/files/blank-image.svg"}),[un,J,R]),[fn,wn]=f.useState(null),[yn,jn]=f.useState(null),kn=f.useMemo((()=>{if(!k)return!1;const n=s({color:W.Color||W.color||"",size:W.Size||W.size||""},W);return i(k.id,n)}),[k,W,i]);if(N||z)return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:X}}),l.jsxs(v,{className:"pdp-loading-container text-center my-5",children:[l.jsx(m,{animation:"border",role:"status"}),l.jsx("h4",{children:"Loading product detailsâ€¦"})]})]});if(C){let n="Unexpected error occurred.";if("string"==typeof _)n=_;else if(_&&"object"==typeof _){const r=_;r.data?"string"==typeof r.data?n=r.data:r.data.message?n=r.data.message:r.data.error&&(n=r.data.error):r.message?n=r.message:r.status&&(n=`Error ${r.status}: Failed to load product`)}return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:X}}),l.jsxs(v,{className:"pdp-error-container text-center my-5",children:[l.jsx("h4",{className:"mb-3",style:{color:"var(--primary-color)"},children:"Could not load product."}),l.jsx("p",{children:n}),l.jsx(c,{onClick:()=>window.location.reload(),children:"Retry"})]})]})}return k?l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:X}}),l.jsx(D,{}),l.jsxs(v,{className:"my-0",children:[l.jsxs(g,{children:[l.jsxs(x,{lg:8,md:7,children:[l.jsx(h,{className:"border-0 shadow-none",children:l.jsx(h.Body,{className:"p-4 product-detail-page-container",children:l.jsxs(g,{children:[l.jsxs(x,{md:6,className:"mb-2",children:[l.jsxs("div",{className:"product-image-gallery",children:[l.jsxs("div",{className:"main-image-wrapper",onClick:()=>(n=>{const r=un.findIndex((r=>r===n));Z(r>=0?r:0),K(!0)})(R),children:[l.jsx(U,{src:L?"/media/svg/files/blank-image.svg":R,alt:k.name,className:"img-fluid",onError:()=>A(!0),style:{width:"100%",height:"100%",objectFit:"contain",cursor:"pointer",transition:"transform var(--transition-speed) var(--transition-timing)"},objectFit:"contain",loaderBackgroundColor:"var(--background-light)",loaderForegroundColor:"var(--border-color)"}),on>0&&l.jsxs("span",{className:"discount-badge",children:["-",on,"%"]})]}),l.jsx("div",{className:"thumbnail-row mt-3",children:un.map(((n,r)=>l.jsx("div",{className:"thumb-wrapper "+(n===R?"selected-thumb":""),onClick:()=>{M(n),A(!1)},children:l.jsx(U,{src:n,alt:`Thumb ${r+1}`,style:{width:"100%",height:"100%",objectFit:"contain",cursor:"pointer"},objectFit:"contain",loaderBackgroundColor:"var(--background-light)",loaderForegroundColor:"var(--border-color)"})},r)))})]}),l.jsx("hr",{className:"my-2",style:{borderColor:"lightgrey"}}),l.jsxs("div",{className:"share-buttons",children:[l.jsx("span",{className:"fw-semibold me-2",children:"Share:"}),l.jsx("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-facebook",title:"Share on Facebook",children:l.jsx("i",{className:"bi bi-facebook"})}),l.jsx("a",{href:`https://twitter.com/intent/tweet?url=${encodeURIComponent(window.location.href)}&text=${encodeURIComponent(k.name)}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-twitter",title:"Share on Twitter",children:l.jsx("i",{className:"bi bi-twitter-x"})}),l.jsx("a",{href:`https://wa.me/?text=${encodeURIComponent(k.name+" "+window.location.href)}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-whatsapp",title:"Share on WhatsApp",children:l.jsx("i",{className:"bi bi-whatsapp"})})]})]}),l.jsxs(x,{md:6,className:"mb-4",children:[l.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[l.jsx("span",{className:"category-badge",children:k.category_text||"Uncategorized"}),l.jsx(H,{productId:k.id,productName:k.name,variant:"icon",size:"md"})]}),l.jsx("h1",{className:"product-title",children:k.name}),k.rating&&Number(k.rating)>0&&l.jsxs("div",{className:"rating-container mb-4",children:[l.jsx("div",{className:"rating-stars",children:(n=>{const r=Math.floor(n),e=n%1>=.5,t=5-r-(e?1:0);return l.jsxs(l.Fragment,{children:[Array(r).fill(0).map(((n,r)=>l.jsx("i",{className:"bi bi-star-fill"},`f${r}`))),e&&l.jsx("i",{className:"bi bi-star-half"}),Array(t).fill(0).map(((n,r)=>l.jsx("i",{className:"bi bi-star"},`e${r}`)))]})})(Number(k.rating))}),l.jsx("span",{className:"rating-value",children:Number(k.rating).toFixed(1)}),l.jsxs("span",{className:"rating-count",children:["(",Number(k.reviewsCount)||0," review",1!==(Number(k.reviewsCount)||0)?"s":"",")"]})]}),Array.isArray(k.attributes_array)&&k.attributes_array.length>0&&l.jsxs("div",{className:"product-attributes",children:[l.jsx("h5",{children:"Specifications"}),l.jsx("div",{className:"attributes-grid",children:k.attributes_array.map(((n,r)=>l.jsxs("div",{className:"attribute-row",children:[l.jsx("span",{className:"attribute-label",children:(null==n?void 0:n.name)||"Unknown"}),l.jsx("span",{className:"attribute-value",children:(null==n?void 0:n.value)||"N/A"})]},r)))})]}),(!Array.isArray(k.attributes_array)||0===k.attributes_array.length)&&l.jsxs("div",{className:"product-attributes",children:[l.jsx("h5",{children:"Product Information"}),l.jsxs("div",{className:"attributes-grid",children:[l.jsxs("div",{className:"attribute-row",children:[l.jsx("span",{className:"attribute-label",children:"Category"}),l.jsx("span",{className:"attribute-value",children:k.category_text||"Uncategorized"})]}),l.jsxs("div",{className:"attribute-row",children:[l.jsx("span",{className:"attribute-label",children:"Product ID"}),l.jsx("span",{className:"attribute-value",children:k.id||"N/A"})]}),k.local_id&&l.jsxs("div",{className:"attribute-row",children:[l.jsx("span",{className:"attribute-label",children:"SKU"}),l.jsx("span",{className:"attribute-value",children:k.local_id})]}),l.jsxs("div",{className:"attribute-row",children:[l.jsx("span",{className:"attribute-label",children:"Availability"}),l.jsx("span",{className:"attribute-value",children:1===k.in_stock?"In Stock":"Out of Stock"})]}),"Yes"===k.has_colors&&k.colors&&l.jsxs("div",{className:"attribute-row",children:[l.jsx("span",{className:"attribute-label",children:"Available Colors"}),l.jsx("span",{className:"attribute-value",children:k.colors})]}),"Yes"===k.has_sizes&&k.sizes&&l.jsxs("div",{className:"attribute-row",children:[l.jsx("span",{className:"attribute-label",children:"Available Sizes"}),l.jsx("span",{className:"attribute-value",children:k.sizes})]})]})]}),Array.isArray(k.tags_array)&&k.tags_array.length>0&&l.jsx("div",{style:{marginTop:"1rem"},children:l.jsx("div",{className:"product-tags",children:k.tags_array.map(((n,r)=>l.jsx("span",{className:"product-tag",onClick:()=>en(n),title:`Search for products with tag: ${n}`,role:"button",tabIndex:0,onKeyDown:r=>{"Enter"!==r.key&&" "!==r.key||(r.preventDefault(),en(n))},children:n},r)))})})]})]})})}),l.jsx(h,{className:"border-0 shadow-sm mt-4",children:l.jsxs(h.Body,{className:"p-4",children:[l.jsxs("h5",{className:"section-title",children:[l.jsx("i",{className:"bi bi-file-text"}),"Product Description"]}),k.description?l.jsx("div",{className:"product-description-content",dangerouslySetInnerHTML:{__html:k.description}}):l.jsx("p",{className:"text-muted",children:"No description available for this product."})]})})]}),l.jsx(x,{lg:4,md:5,children:l.jsx("div",{className:"sidebar-card",children:l.jsxs("div",{className:"card-body",children:[l.jsxs("div",{className:"pricing-section",children:[l.jsxs("div",{className:"d-flex align-items-center flex-wrap",children:[l.jsxs("div",{className:"current-price",children:["UGX ",tn.toLocaleString()]}),an>tn&&l.jsxs("span",{className:"old-price",children:["UGX ",an.toLocaleString()]})]}),on>0&&l.jsxs("span",{className:"savings-badge",children:["Save ",on,"%"]})]}),k.variants&&"object"==typeof k.variants&&Object.keys(k.variants).length>0&&l.jsx("div",{className:"variants-section mb-0",children:Object.entries(k.variants).map((([n,r])=>Array.isArray(r)&&r.length>0?l.jsxs("div",{className:"mb-3",children:[l.jsxs("label",{className:"variant-label",children:[n,":"]}),l.jsx("div",{className:"variant-options",children:r.map((r=>l.jsx("button",{type:"button",className:"variant-btn "+(W[n]===r?"active":""),onClick:()=>mn(n,r),children:r},r)))})]},n):null))}),l.jsxs("div",{className:"quantity-section w-100 mt-0",children:[l.jsx("label",{className:"quantity-label",children:"Quantity:"}),l.jsx(b.Control,{type:"number",min:"1",max:ln,value:Y,onChange:n=>{const r=parseInt(n.target.value,10);return isNaN(r)||r<1?q(1):r>ln?(a(B({message:`Only ${ln} available`,type:"warning"})),q(ln)):void q(r)},disabled:cn,className:"quantity-input w-100"})]}),l.jsxs("div",{className:"action-buttons",children:[l.jsxs(c,{className:"btn-add-to-cart",onClick:pn,disabled:cn,children:[l.jsx("i",{className:"bi bi-cart-plus"}),"Add to Cart"]}),l.jsxs(c,{className:"btn-buy-now",onClick:bn,disabled:cn,children:[l.jsx("i",{className:"bi bi-lightning"}),"Buy Now"]}),kn&&l.jsxs(c,{className:"btn-checkout",onClick:()=>t("/checkout"),variant:"success",children:[l.jsx("i",{className:"bi bi-check-circle me-2"}),"Proceed to Checkout"]})]}),l.jsxs("div",{className:"page-navigator mt-4",children:[l.jsxs("h6",{className:"navigator-title",children:[l.jsx("i",{className:"bi bi-list-ul"}),"Quick Navigation"]}),l.jsxs("div",{className:"navigator-links",children:[l.jsxs("button",{type:"button",className:"nav-link-btn",onClick:()=>{const n=document.querySelector(".product-description-content");null==n||n.scrollIntoView({behavior:"smooth",block:"start"})},children:[l.jsx("i",{className:"bi bi-file-text"}),l.jsx("span",{children:"Description"})]}),l.jsxs("button",{type:"button",className:"nav-link-btn",onClick:()=>{const n=document.querySelector('[data-section="reviews"]');null==n||n.scrollIntoView({behavior:"smooth",block:"start"})},children:[l.jsx("i",{className:"bi bi-star"}),l.jsx("span",{children:"Reviews"})]}),l.jsxs("button",{type:"button",className:"nav-link-btn",onClick:()=>{const n=document.querySelector(".related-products");null==n||n.scrollIntoView({behavior:"smooth",block:"start"})},children:[l.jsx("i",{className:"bi bi-grid"}),l.jsx("span",{children:"Related Products"})]})]})]})]})})})]}),l.jsx(g,{className:"mt-4",children:l.jsx(x,{xs:12,className:"mb-4",children:l.jsx("div",{"data-section":"reviews",children:l.jsx(O,{productId:k.id,onWriteReviewClick:()=>rn(!0),showWriteReviewButton:!0})})})}),l.jsx(p,{show:Q,onHide:xn,size:"xl",centered:!0,className:"fullscreen-modal",backdrop:"static",children:l.jsx(p.Body,{children:l.jsxs("div",{className:"modal-image-container",onTouchStart:n=>{jn(null),wn(n.targetTouches[0].clientX)},onTouchMove:n=>{jn(n.targetTouches[0].clientX)},onTouchEnd:()=>{if(!fn||!yn)return;const n=fn-yn,r=n<-50;n>50&&un.length>1&&gn(),r&&un.length>1&&hn()},children:[l.jsx("button",{className:"modal-close-btn",onClick:xn,"aria-label":"Close modal",children:"Ã—"}),un.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"modal-nav-btn prev",onClick:hn,disabled:0===J,"aria-label":"Previous image",children:"â€¹"}),l.jsx("button",{className:"modal-nav-btn next",onClick:gn,disabled:J===un.length-1,"aria-label":"Next image",children:"â€º"})]}),l.jsx("div",{className:"modal-image-wrapper",children:vn?l.jsx(U,{src:vn,alt:`${k.name} - Image ${J+1}`,width:"100%",height:"100%",style:{width:"100%",height:"100%",maxWidth:"100%",maxHeight:"100%",objectFit:"contain",borderRadius:"0px",display:"block"},objectFit:"contain",loaderBackgroundColor:"rgba(255, 255, 255, 0.2)",loaderForegroundColor:"rgba(255, 255, 255, 0.4)",loaderSpeed:1.2,onError:n=>{}}):l.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255, 255, 255, 0.1)",color:"rgba(255, 255, 255, 0.7)",fontSize:"18px"},children:"No image available"})}),un.length>1&&l.jsxs("div",{className:"modal-image-counter",children:[J+1,"/",un.length]})]})})})]}),F.length>0&&l.jsx(v,{className:"mt-4",children:l.jsxs("div",{className:"related-products",children:[l.jsx("h3",{children:"Related Products"}),l.jsxs("div",{className:"related-products-slider",children:[l.jsx("button",{className:"slider-button prev",onClick:()=>{const n=document.querySelector(".related-products-container");n&&n.scrollBy({left:-300,behavior:"smooth"})},type:"button","aria-label":"Previous products",children:"â€¹"}),l.jsx("div",{className:"related-products-container",children:F.map((n=>l.jsx("div",{className:"related-product-item",children:l.jsxs("div",{className:"related-product-card",children:[l.jsx("div",{className:"related-product-image",children:l.jsx("img",{src:S.img(n.feature_photo),alt:n.name,onError:n=>{n.target.src=S.img("default.png")}})}),l.jsxs("div",{className:"related-product-content",children:[l.jsx(j,{to:`/product/${n.id}`,className:"related-product-title",children:n.name}),l.jsxs("div",{className:"related-product-price",children:[l.jsxs("span",{className:"related-product-price-current",children:["UGX ",n.price_2||n.price_1]}),n.price_2&&parseFloat(n.price_2)<parseFloat(n.price_1)&&l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:"related-product-price-original",children:["UGX ",n.price_1]}),l.jsxs("span",{className:"related-product-discount",children:["-",Math.round((parseFloat(n.price_1)-parseFloat(n.price_2))/parseFloat(n.price_1)*100),"%"]})]})]}),l.jsxs("div",{className:"related-product-actions",children:[l.jsx("button",{className:"related-product-btn related-product-btn-primary",onClick:()=>d(void 0,null,(function*(){try{(yield o(n,1))&&a(B({message:`${n.name} added to cart!`,type:"success"}))}catch(r){a(B({message:"Failed to add item to cart",type:"error"}))}})),children:"+ Cart"}),l.jsx(j,{to:`/product/${n.id}`,className:"related-product-btn related-product-btn-outline",children:"View"})]})]})]})},n.id)))}),l.jsx("button",{className:"slider-button next",onClick:()=>{const n=document.querySelector(".related-products-container");n&&n.scrollBy({left:300,behavior:"smooth"})},type:"button","aria-label":"Next products",children:"â€º"})]})]})}),l.jsx("div",{className:"mobile-sticky-bottom",children:l.jsxs("div",{className:"mobile-action-buttons",children:[l.jsxs(c,{className:"mobile-btn-add-to-cart",onClick:pn,disabled:cn,children:[l.jsx("i",{className:"bi bi-cart-plus"}),"Add to Cart"]}),l.jsxs(c,{className:"mobile-btn-buy-now",onClick:bn,disabled:cn,children:[l.jsx("i",{className:"bi bi-lightning"}),"Buy Now"]})]})}),l.jsx(G,{productId:k.id,show:nn,onHide:()=>rn(!1),asModal:!0,onReviewSubmitted:()=>{}})]}):l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:X}}),l.jsxs(v,{className:"pdp-not-found-container text-center my-5",children:[l.jsx("h4",{children:"Product not found."}),l.jsx(c,{variant:"outline-primary",onClick:()=>t("/"),children:"Back to Home"})]})]})};export{V as default};
