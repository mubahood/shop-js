var n=Object.defineProperty,e=Object.defineProperties,r=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,i=(e,r,t)=>r in e?n(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,s=(n,e)=>{for(var r in e||(e={}))o.call(e,r)&&i(n,r,e[r]);if(t)for(var r of t(e))a.call(e,r)&&i(n,r,e[r]);return n},l=(n,t)=>e(n,r(t));import{j as c,C as d,R as p,c as m,a as f,B as g,F as x,d as u,S as h,A as b,P as v}from"./vendor-bootstrap-5Pmslw1a.js";import{r as y}from"./vendor-react-CSr-5IoM.js";import{d as j}from"./vendor-router-B5VXrYKF.js";import{H as w,g as N,u as k}from"./index-nWNd2qXB.js";import{P as C}from"./ProductCard-C-8rj6-A.js";import{D as _}from"./DynamicBreadcrumb-6LVadogf.js";import{S,b as z,c as P}from"./metaTags-DVZaL5Ct.js";import"./vendor-redux-DhM9Zidd.js";import"./vendor-query-BwsiJSmJ.js";import"./index-B8zPzRUh.js";const O=({category:n,businessInfo:e={name:"BlitXpress",url:"https://blitxpress.com"}})=>{const r="undefined"!=typeof window?window.location.href:"",t={"@context":"https://schema.org","@type":"CollectionPage",name:`${n.name} Products`,description:n.description||`Shop ${n.name} products online in Uganda`,url:r,mainEntity:{"@type":"ItemList",name:`${n.name} Products`,description:n.description||`Browse our ${n.name} collection`,numberOfItems:n.productCount||0,itemListOrder:"https://schema.org/ItemListOrderDescending"},breadcrumb:{"@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Home",item:e.url},{"@type":"ListItem",position:2,name:n.name}]},publisher:{"@type":"Organization",name:e.name,url:e.url}},o={"@context":"https://schema.org","@type":"WebSite",name:e.name,url:e.url,potentialAction:{"@type":"SearchAction",target:{"@type":"EntryPoint",urlTemplate:`${e.url}/products?search={search_term_string}`},"query-input":"required name=search_term_string"}};return c.jsxs(w,{children:[c.jsx("script",{type:"application/ld+json",children:JSON.stringify(t)}),c.jsx("script",{type:"application/ld+json",children:JSON.stringify(o)}),c.jsx("meta",{name:"robots",content:"index, follow"}),c.jsx("meta",{name:"category",content:n.name}),n.productCount&&c.jsx("meta",{name:"product-count",content:n.productCount.toString()}),c.jsx("meta",{property:"og:type",content:"website"}),c.jsx("meta",{property:"product:category",content:n.name}),c.jsx("meta",{name:"twitter:label1",content:"Category"}),c.jsx("meta",{name:"twitter:data1",content:n.name}),n.productCount&&c.jsxs(c.Fragment,{children:[c.jsx("meta",{name:"twitter:label2",content:"Products"}),c.jsx("meta",{name:"twitter:data2",content:`${n.productCount} items`})]})]})};if("undefined"!=typeof document){const n="products-page-styles";if(!document.getElementById(n)){const e=document.createElement("style");e.id=n,e.textContent="\n  .products-page {\n    background: var(--background-light, #ffffff);\n  }\n\n  .products-header {\n    padding: 0;\n    margin-bottom: 12px;\n  }\n\n  .page-title {\n    font-size: 20px;\n    font-weight: 600;\n    margin: 0;\n    color: var(--text-color-dark, #212529);\n    height: 20px;\n  }\n\n  .products-count {\n    font-size: 13px;\n    color: var(--text-color-medium, #6c757d);\n    margin: 0;\n  }\n\n  .sort-dropdown {\n    min-width: 180px;\n    font-size: 13px;\n    border: 1px solid var(--border-color, #dee2e6);\n    border-radius: var(--border-radius, 4px);\n    color: var(--text-color-dark, #212529);\n  }\n\n  .sort-dropdown:focus {\n    border-color: var(--primary-color, #007bff);\n    box-shadow: 0 0 0 0.2rem rgba(var(--primary-color-rgb, 0, 123, 255), 0.25);\n  }\n\n  .filters-sidebar {\n    padding: 0;\n  }\n\n  .filters-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 16px;\n    padding: 16px;\n    border-bottom: 1px solid var(--border-color-light, #f1f3f4);\n  }\n\n  .filters-title {\n    font-size: 16px;\n    font-weight: 600;\n    margin: 0;\n    color: var(--text-color-dark, #212529);\n  }\n\n  .filters-toggle-btn {\n    background: var(--white, #ffffff);\n    border: 1px solid var(--border-color, #dee2e6);\n    border-radius: var(--border-radius, 4px);\n    color: var(--text-color-dark, #212529);\n    padding: 8px 12px;\n    font-size: 12px;\n    font-weight: 500;\n    transition: all 0.2s ease;\n    display: none;\n    align-items: center;\n    gap: 6px;\n    cursor: pointer;\n    white-space: nowrap;\n  }\n\n  .filters-toggle-btn:hover {\n    background: var(--primary-color, #007bff);\n    border-color: var(--primary-color, #007bff);\n    color: var(--white, #ffffff);\n  }\n\n  .filters-toggle-btn:focus {\n    outline: none;\n    box-shadow: 0 0 0 0.2rem rgba(var(--primary-color-rgb, 0, 123, 255), 0.25);\n  }\n\n  .filters-content {\n    padding: 0 16px 16px 16px;\n    transition: max-height 0.3s ease, opacity 0.3s ease;\n    overflow: hidden;\n  }\n\n  .filters-content.collapsed {\n    max-height: 0;\n    opacity: 0;\n    padding: 0 16px;\n  }\n\n  .filter-group {\n    margin-bottom: 16px;\n  }\n\n  .filter-label {\n    font-size: 13px;\n    font-weight: 500;\n    margin: 0 0 6px 0;\n    color: var(--text-color-dark, #212529);\n    display: block;\n  }\n\n  .filter-select {\n    border: 1px solid var(--border-color, #dee2e6);\n    border-radius: var(--border-radius, 4px);\n    font-size: 13px;\n    padding: 8px;\n    color: var(--text-color-dark, #212529);\n  }\n\n  .filter-select:focus {\n    border-color: var(--primary-color, #007bff);\n    box-shadow: 0 0 0 0.2rem rgba(var(--primary-color-rgb, 0, 123, 255), 0.25);\n  }\n\n  .price-inputs {\n    display: flex;\n    gap: 8px;\n    margin: 0 0 8px 0;\n  }\n\n  .price-input {\n    border: 1px solid var(--border-color, #dee2e6);\n    border-radius: var(--border-radius, 4px);\n    font-size: 13px;\n    padding: 8px;\n    color: var(--text-color-dark, #212529);\n  }\n\n  .price-input:focus {\n    border-color: var(--primary-color, #007bff);\n    box-shadow: 0 0 0 0.2rem rgba(var(--primary-color-rgb, 0, 123, 255), 0.25);\n  }\n\n  .price-separator {\n    align-self: center;\n    color: var(--text-color-medium, #6c757d);\n    font-size: 13px;\n  }\n\n  .apply-price-btn {\n    border: 1px solid var(--primary-color, #007bff);\n    border-radius: var(--border-radius, 4px);\n    background: var(--white, #ffffff);\n    color: var(--primary-color, #007bff);\n    font-size: 12px;\n    padding: 12px;\n    width: 100%;\n    font-weight: 500;\n    transition: all 0.2s ease;\n  }\n\n  .apply-price-btn:hover {\n    background: var(--primary-color, #007bff);\n    color: var(--white, #ffffff);\n    border-color: var(--primary-color, #007bff);\n  }\n\n  .clear-filters-btn {\n    font-size: 12px;\n    color: var(--text-color-medium, #6c757d);\n    padding: 0;\n    text-decoration: none;\n    border: none;\n    background: none;\n  }\n\n  .clear-filters-btn:hover {\n    color: var(--primary-color, #007bff);\n    text-decoration: underline;\n  }\n\n  .active-filters {\n    margin-top: 16px;\n    padding-top: 16px;\n    border-top: 1px solid var(--border-color-light, #f1f3f4);\n  }\n\n  .filter-tags {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 6px;\n  }\n\n  .filter-tag {\n    cursor: pointer;\n    font-size: 11px;\n    background: var(--primary-color, #007bff);\n    color: var(--white, #ffffff);\n    border: none;\n    border-radius: var(--border-radius-sm, 2px);\n    padding: 4px 8px;\n    transition: all 0.2s ease;\n  }\n\n  .filter-tag:hover {\n    background: var(--primary-color-dark, #0056b3);\n  }\n\n  .filter-tag-remove {\n    margin-left: 4px;\n    font-weight: normal;\n  }\n\n  .products-grid {\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n    gap: 16px;\n    margin: 0;\n  }\n\n  .loading-state, .empty-state {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding: 40px 16px;\n    text-align: center;\n    background: var(--white, #ffffff);\n  }\n\n  .empty-icon {\n    font-size: 48px;\n    color: var(--text-color-light, #adb5bd);\n    margin-bottom: 16px;\n  }\n\n  .empty-title {\n    font-size: 18px;\n    font-weight: 500;\n    margin: 0 0 8px 0;\n    color: var(--text-color-dark, #212529);\n  }\n\n  .empty-description {\n    font-size: 14px;\n    color: var(--text-color-medium, #6c757d);\n    margin: 0 0 16px 0;\n  }\n\n  .empty-action-btn {\n    border: 1px solid var(--primary-color, #007bff);\n    border-radius: var(--border-radius, 4px);\n    background: var(--primary-color, #007bff);\n    color: var(--white, #ffffff);\n    font-size: 13px;\n    padding: 8px 16px;\n    transition: all 0.2s ease;\n  }\n\n  .empty-action-btn:hover {\n    background: var(--primary-color-dark, #0056b3);\n    border-color: var(--primary-color-dark, #0056b3);\n  }\n\n  .pagination-section {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-top: 24px;\n    padding: 20px 0;\n    background: var(--white, #ffffff);\n    border-top: 1px solid var(--border-color-light, #f1f3f4);\n  }\n\n  .pagination-text {\n    font-size: 13px;\n    color: var(--text-color-medium, #6c757d);\n    font-weight: 500;\n  }\n\n  .custom-pagination {\n    margin: 0;\n  }\n\n  .custom-pagination .page-link {\n    border: 1px solid var(--border-color, #dee2e6);\n    border-radius: var(--border-radius, 4px);\n    color: var(--text-color-dark, #212529);\n    background: var(--white, #ffffff);\n    font-size: 13px;\n    padding: 8px 12px;\n    margin: 0 2px;\n    font-weight: 500;\n    transition: all 0.2s ease;\n    text-decoration: none;\n  }\n\n  .custom-pagination .page-link:hover {\n    background: var(--primary-color, #007bff);\n    border-color: var(--primary-color, #007bff);\n    color: var(--white, #ffffff);\n  }\n\n  .custom-pagination .page-item.active .page-link {\n    background: var(--primary-color, #007bff);\n    border-color: var(--primary-color, #007bff);\n    color: var(--white, #ffffff);\n  }\n\n  .custom-pagination .page-item.disabled .page-link {\n    color: var(--text-color-light, #adb5bd);\n    background: var(--background-light, #f8f9fa);\n    border-color: var(--border-color-light, #f1f3f4);\n    cursor: not-allowed;\n  }\n\n  .custom-pagination .page-item.disabled .page-link:hover {\n    background: var(--background-light, #f8f9fa);\n    border-color: var(--border-color-light, #f1f3f4);\n    color: var(--text-color-light, #adb5bd);\n  }\n\n  /* Enhanced pagination styles */\n  .pagination-controls {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n  }\n\n  .pagination-info {\n    display: flex;\n    align-items: center;\n  }\n\n  @media (max-width: 991px) {\n    .products-grid {\n      grid-template-columns: repeat(3, 1fr);\n      gap: 14px;\n    }\n\n    .pagination-section {\n      flex-direction: column;\n      gap: 16px;\n      text-align: center;\n    }\n  }\n\n  @media (max-width: 767px) {\n    .products-grid {\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px;\n    }\n    \n    .page-title {\n      font-size: 18px;\n    }\n\n    .sort-dropdown {\n      min-width: 140px;\n    }\n\n    .custom-pagination .page-link {\n      padding: 6px 8px;\n      font-size: 12px;\n    }\n\n    .filters-toggle-btn {\n      display: inline-flex;\n      align-items: center;\n      gap: 6px;\n    }\n\n    .filters-header {\n      margin-bottom: 0;\n      padding-bottom: 16px;\n    }\n\n    .filters-content {\n      padding-top: 0;\n    }\n\n    .filters-content.collapsed {\n      padding-top: 0;\n      padding-bottom: 0;\n    }\n  }\n",document.head.appendChild(e)}}const L=()=>{var n;const[e,r]=j(),[t,o]=y.useState(1),[a,i]=y.useState("created_at"),[w,L]=y.useState("desc"),[$,E]=y.useState(),[F,I]=y.useState({min:"",max:""}),[A,B]=y.useState(!1),[U,D]=y.useState(!1);y.useEffect((()=>{const n=()=>{D(window.innerWidth<=767),B(window.innerWidth>767)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)}),[]),y.useEffect((()=>{const n=parseInt(e.get("page")||"1"),r=e.get("category"),t=e.get("sort_by")||"created_at",a=e.get("sort_order")||"desc",s=e.get("min_price")||"",l=e.get("max_price")||"";o(n),i(t),L(a),E(r?parseInt(r):void 0),I({min:s,max:l})}),[e]);const{data:H,isLoading:M,error:R}=N({page:t,limit:24,category:$,sort_by:a,sort_order:w,min_price:F.min?parseFloat(F.min):void 0,max_price:F.max?parseFloat(F.max):void 0,search:e.get("search")||void 0}),q=k(),T=(null==H?void 0:H.data)||[],W=(null==H?void 0:H.last_page)||1,X=n=>{const t=new URLSearchParams(e);Object.entries(n).forEach((([n,e])=>{void 0!==e&&""!==e?t.set(n,e.toString()):t.delete(n)})),r(t)},J=n=>{var e;o(n),X({page:n}),null==(e=document.querySelector(".products-header"))||e.scrollIntoView({behavior:"smooth",block:"start"})},V=n=>{const e=n?parseInt(n):void 0;E(e),o(1),X({category:e,page:1})},Z=()=>{E(void 0),I({min:"",max:""}),i("created_at"),L("desc"),o(1),r({})};return c.jsxs(c.Fragment,{children:[c.jsx(S,{config:(()=>{const n=e.get("search");if(n)return z(n,(null==H?void 0:H.total)||0);if($&&q){const n=q.find((n=>n.id===$));if(n)return P({name:n.category,description:`Shop ${n.category} products online in Uganda. Best prices and fast delivery at BlitXpress.`,productCount:(null==H?void 0:H.total)||0})}return P({name:"All Products",description:"Shop all products online in Uganda. Electronics, fashion, home & garden, and more with fast delivery and secure checkout.",productCount:(null==H?void 0:H.total)||0})})()}),c.jsx(O,{category:(()=>{if($&&q){const n=q.find((n=>n.id===$));if(n)return{name:n.category,description:`Shop ${n.category} products online in Uganda. Best prices and fast delivery at BlitXpress.`,productCount:(null==H?void 0:H.total)||0,url:window.location.href}}return{name:"All Products",description:"Shop all products online in Uganda. Electronics, fashion, home & garden, and more with fast delivery and secure checkout.",productCount:(null==H?void 0:H.total)||0,url:window.location.href}})()}),c.jsx(_,{context:{categories:q,selectedCategory:$,searchTerm:e.get("search")||void 0},showBackground:!0,showIcons:!0}),c.jsx(d,{children:c.jsxs(p,{children:[c.jsx(m,{md:3,className:"my-0",children:c.jsx(f,{className:"shadow-sm border-0",children:c.jsx(f.Body,{children:c.jsxs("div",{className:"filters-sidebar",children:[c.jsxs("div",{className:"filters-header",children:[c.jsx("h6",{className:"filters-title",children:"Product Filters"}),c.jsxs("div",{className:"d-flex align-items-center gap-2",children:[($||F.min||F.max)&&c.jsx(g,{variant:"link",size:"sm",className:"clear-filters-btn p-0",onClick:Z,children:"Clear All"}),U&&c.jsxs("button",{className:"filters-toggle-btn",onClick:()=>B(!A),children:[c.jsx("span",{children:A?"Hide":"Show"}),c.jsx("span",{style:{fontSize:"10px",marginLeft:"2px"},children:A?"▲":"▼"})]})]})]}),c.jsxs("div",{className:"filters-content "+(A?"":"collapsed"),children:[c.jsxs("div",{className:"filter-group",children:[c.jsx("label",{className:"filter-label",children:"Category"}),c.jsxs(x.Select,{size:"sm",className:"filter-select",value:$||"",onChange:n=>V(n.target.value),children:[c.jsx("option",{value:"",children:"All Categories"}),null==q?void 0:q.map((n=>c.jsx("option",{value:n.id,children:n.category},n.id)))]})]}),c.jsxs("div",{className:"filter-group",children:[c.jsx("label",{className:"filter-label",children:"Price Range"}),c.jsxs("div",{className:"price-inputs",children:[c.jsx(x.Control,{type:"number",size:"sm",placeholder:"Min",className:"price-input",value:F.min,onChange:n=>I((e=>l(s({},e),{min:n.target.value})))}),c.jsx("span",{className:"price-separator",children:"-"}),c.jsx(x.Control,{type:"number",size:"sm",placeholder:"Max",className:"price-input",value:F.max,onChange:n=>I((e=>l(s({},e),{max:n.target.value})))})]}),c.jsx(g,{className:"apply-price-btn mt-2",onClick:()=>{o(1),X({min_price:F.min,max_price:F.max,page:1})},children:"Apply Filters"})]}),($||F.min||F.max)&&c.jsxs("div",{className:"active-filters",children:[c.jsx("label",{className:"filter-label",children:"Active Filters"}),c.jsxs("div",{className:"filter-tags",children:[$&&q&&c.jsxs(u,{bg:"primary",className:"filter-tag",onClick:()=>V(""),role:"button",children:[null==(n=q.find((n=>n.id===$)))?void 0:n.category,c.jsx("span",{className:"filter-tag-remove",children:"×"})]}),(F.min||F.max)&&c.jsxs(u,{bg:"primary",className:"filter-tag",onClick:()=>{I({min:"",max:""}),X({min_price:void 0,max_price:void 0})},role:"button",children:[F.min&&F.max?`${F.min} - ${F.max}`:F.min?`From ${F.min}`:`Up to ${F.max}`,c.jsx("span",{className:"filter-tag-remove",children:"×"})]})]})]})]})]})})})}),c.jsx(m,{md:9,className:"my-0",children:c.jsx(f,{className:"border-0 shadow-sm",children:c.jsxs(f.Body,{children:[c.jsx("div",{className:"products-header mb-3",children:c.jsxs(p,{className:"align-items-center",children:[c.jsx(m,{md:8,children:c.jsxs("div",{className:"page-title-section text-start",children:[c.jsx("h1",{className:"page-title",children:(()=>{if(e.get("deals"))return"Flash Deals";if(e.get("search"))return`Search Results for "${e.get("search")}"`;if($&&q){const n=q.find((n=>n.id===$));return n?`${n.category} Products`:"Products"}return"All Products"})()}),H&&c.jsxs("p",{className:"products-count",children:[H.total.toLocaleString()," product",1!==H.total?"s":""," found"]})]})}),c.jsx(m,{md:4,children:c.jsx("div",{className:"sort-controls text-end",children:c.jsxs(x.Select,{size:"sm",className:"sort-dropdown",value:`${a}_${w}`,onChange:n=>{const[e,r]=n.target.value.split("_");((n,e)=>{i(n),L(e),o(1),X({sort_by:n,sort_order:e,page:1})})(e,r)},children:[c.jsx("option",{value:"created_at_desc",children:"Newest First"}),c.jsx("option",{value:"created_at_asc",children:"Oldest First"}),c.jsx("option",{value:"price_1_asc",children:"Price: Low to High"}),c.jsx("option",{value:"price_1_desc",children:"Price: High to Low"}),c.jsx("option",{value:"name_asc",children:"Name: A to Z"}),c.jsx("option",{value:"name_desc",children:"Name: Z to A"})]})})})]})}),M&&c.jsxs("div",{className:"loading-state",children:[c.jsx(h,{animation:"border",variant:"primary"}),c.jsx("p",{children:"Loading products..."})]}),R&&c.jsx("div",{className:"error-state",children:c.jsxs(b,{variant:"danger",className:"error-alert",children:[c.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),"Error loading products. Please try again."]})}),!M&&!R&&0===T.length&&c.jsxs("div",{className:"empty-state",children:[c.jsx("i",{className:"bi bi-box-seam empty-icon"}),c.jsx("h4",{className:"empty-title",children:"No products found"}),c.jsx("p",{className:"empty-description",children:"Try adjusting your filters or search terms to find what you're looking for."}),c.jsxs(g,{variant:"primary",onClick:Z,className:"empty-action-btn",children:[c.jsx("i",{className:"bi bi-arrow-clockwise me-2"}),"View All Products"]})]}),!M&&!R&&T.length>0&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"products-grid",children:T.map((n=>c.jsx("div",{className:"product-item",children:c.jsx(C,{product:n})},n.id)))}),W>1&&c.jsxs("div",{className:"pagination-section",children:[c.jsx("div",{className:"pagination-info",children:c.jsxs("span",{className:"pagination-text",children:["Showing ",24*(t-1)+1," to"," ",Math.min(24*t,(null==H?void 0:H.total)||0)," ","of ",(null==H?void 0:H.total)||0," products"]})}),c.jsx("div",{className:"pagination-controls",children:c.jsxs(v,{className:"custom-pagination",children:[c.jsx(v.First,{disabled:1===t,onClick:()=>J(1)}),c.jsx(v.Prev,{disabled:1===t,onClick:()=>J(t-1)}),(()=>{const n=[],e=[];for(let r=Math.max(2,t-2);r<=Math.min(W-1,t+2);r++)n.push(r);return t-2>2?e.push(1,"..."):e.push(1),e.push(...n),t+2<W-1?e.push("...",W):W>1&&e.push(W),e.map(((n,e)=>"..."===n?c.jsx(v.Ellipsis,{disabled:!0},`ellipsis-${e}`):c.jsx(v.Item,{active:n===t,onClick:()=>J(n),children:n},n)))})(),c.jsx(v.Next,{disabled:t===W,onClick:()=>J(t+1)}),c.jsx(v.Last,{disabled:t===W,onClick:()=>J(W)})]})})]})]})]})})})]})})]})};export{L as default};
