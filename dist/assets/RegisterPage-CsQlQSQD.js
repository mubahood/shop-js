import{G as C,e as P,r as m,j as e,F as s,L as h,S as T,a5 as S,T as u}from"./index-Ck1B39s_.js";import{A as k}from"./Alert-C-lzSFeO.js";import{B as F}from"./Button-NLQyPqyC.js";import"./hook-BpSSKWeX.js";import"./useEventCallback-Cs-IbGqe.js";import"./divWithClassName-Cvv0wCrx.js";import"./Anchor-D3rNWf9j.js";import"./Button-BlOqttEG.js";import"./TransitionWrapper-Ca_Uh9a9.js";import"./useMergedRefs-NifApYAE.js";const B=()=>{const g=C(),j=P(),[a,w]=m.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",agreeToTerms:!1,newsletter:!0}),[t,c]=m.useState({}),[x,f]=m.useState(!1),[d,l]=m.useState(""),i=r=>{const{name:o,value:n,type:v,checked:y}=r.target;w(p=>({...p,[o]:v==="checkbox"?y:n})),o in t&&c(p=>({...p,[o]:void 0})),d&&l("")},N=()=>{const r={};return a.firstName.trim()||(r.firstName="First name is required"),a.lastName.trim()||(r.lastName="Last name is required"),a.email?/\S+@\S+\.\S+/.test(a.email)||(r.email="Please enter a valid email"):r.email="Email is required",a.password?a.password.length<4&&(r.password="Password must be at least 4 characters"):r.password="Password is required",a.confirmPassword?a.password!==a.confirmPassword&&(r.confirmPassword="Passwords do not match"):r.confirmPassword="Please confirm your password",a.agreeToTerms||(r.agreeToTerms="You must agree to the terms and conditions"),c(r),Object.keys(r).length===0},b=async r=>{if(r.preventDefault(),!!N()){f(!0),c({}),l("");try{const o=await j(S({firstName:a.firstName,lastName:a.lastName,email:a.email,password:a.password}));if(o.success)u.registerSuccess(`${a.firstName} ${a.lastName}`),g("/");else{const n=o.error||"Registration failed. Please try again.";l(n),u.registerError(n)}}catch(o){const n=(o==null?void 0:o.message)||"Registration failed. Please try again.";l(n),u.registerError(n)}finally{f(!1)}}};return e.jsxs("div",{className:"register-page",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h2",{className:"h3 fw-bold",children:"Create Account"}),e.jsx("p",{className:"text-muted",children:"Join us and start shopping today!"})]}),d&&e.jsx(k,{variant:"danger",className:"mb-4",children:d}),e.jsxs(s,{onSubmit:b,children:[e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"First Name"}),e.jsx(s.Control,{type:"text",name:"firstName",value:a.firstName,onChange:i,isInvalid:!!t.firstName,placeholder:"Enter your first name",autoComplete:"given-name"}),e.jsx(s.Control.Feedback,{type:"invalid",children:t.firstName})]}),e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Last Name"}),e.jsx(s.Control,{type:"text",name:"lastName",value:a.lastName,onChange:i,isInvalid:!!t.lastName,placeholder:"Enter your last name",autoComplete:"family-name"}),e.jsx(s.Control.Feedback,{type:"invalid",children:t.lastName})]}),e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Email Address"}),e.jsx(s.Control,{type:"email",name:"email",value:a.email,onChange:i,isInvalid:!!t.email,placeholder:"Enter your email",autoComplete:"email"}),e.jsx(s.Control.Feedback,{type:"invalid",children:t.email})]}),e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Password"}),e.jsx(s.Control,{type:"password",name:"password",value:a.password,onChange:i,isInvalid:!!t.password,placeholder:"Create a strong password",autoComplete:"new-password"}),e.jsx(s.Control.Feedback,{type:"invalid",children:t.password}),e.jsx(s.Text,{className:"text-muted",children:"Must be at least 4 characters"})]}),e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Confirm Password"}),e.jsx(s.Control,{type:"password",name:"confirmPassword",value:a.confirmPassword,onChange:i,isInvalid:!!t.confirmPassword,placeholder:"Confirm your password",autoComplete:"new-password"}),e.jsx(s.Control.Feedback,{type:"invalid",children:t.confirmPassword})]}),e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Check,{type:"checkbox",name:"agreeToTerms",checked:a.agreeToTerms,onChange:i,isInvalid:!!t.agreeToTerms,label:e.jsxs(e.Fragment,{children:["I agree to the"," ",e.jsx(h,{to:"/terms",className:"text-decoration-none",children:"Terms of Service"})," ","and"," ",e.jsx(h,{to:"/privacy",className:"text-decoration-none",children:"Privacy Policy"})]})}),e.jsx(s.Control.Feedback,{type:"invalid",children:t.agreeToTerms})]}),e.jsx(s.Group,{className:"mb-4",children:e.jsx(s.Check,{type:"checkbox",name:"newsletter",checked:a.newsletter,onChange:i,label:"Subscribe to our newsletter for updates and offers"})}),e.jsx(F,{type:"submit",variant:"primary",size:"lg",className:"w-100 mb-4",disabled:x,children:x?e.jsxs(e.Fragment,{children:[e.jsx(T,{size:"sm",className:"me-2"}),"Creating Account..."]}):"Create Account"}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-muted",children:"Already have an account? "}),e.jsx(h,{to:"/auth/login",className:"text-decoration-none fw-semibold",children:"Sign in"})]})]})]})};export{B as default};
