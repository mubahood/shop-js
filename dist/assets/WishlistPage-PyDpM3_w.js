var e=(e,r,n)=>new Promise(((s,i)=>{var t=e=>{try{o(n.next(e))}catch(r){i(r)}},a=e=>{try{o(n.throw(e))}catch(r){i(r)}},o=e=>e.done?s(e.value):Promise.resolve(e.value).then(t,a);o((n=n.apply(e,r)).next())}));import{j as r,a as n,R as s,b as i,S as t,B as a,c as o,d as l}from"./vendor-bootstrap-D-I_tXzc.js";import{r as d}from"./vendor-react-BEzjZhyF.js";import{a as c,L as m,r as h,T as p,P as u,B as x}from"./index-UqLlkq5m.js";import{u as g}from"./vendor-redux-Dj4qHuPE.js";import{H as w,S as b,T as v,P as j,E as f}from"./vendor-ui-Cam-dafC.js";const y="\n  .wishlist-page-wrapper {\n    background: var(--bg-light);\n    min-height: 100vh;\n    padding: 2rem 0;\n  }\n\n  .wishlist-header {\n    background: var(--white);\n    border-radius: var(--border-radius);\n    padding: 2rem;\n    margin-bottom: 2rem;\n    box-shadow: var(--shadow-sm);\n    border: 1px solid var(--border-color-light);\n  }\n\n  .wishlist-title {\n    color: var(--text-color-dark);\n    font-size: 2rem;\n    font-weight: 700;\n    margin-bottom: 0.5rem;\n  }\n\n  .wishlist-subtitle {\n    color: var(--text-color-medium);\n    font-size: 1rem;\n    margin-bottom: 0;\n  }\n\n  .wishlist-card {\n    transition: all 0.3s ease;\n    border: none !important;\n    background: var(--white);\n    border-radius: var(--border-radius);\n    overflow: hidden;\n    height: 100%;\n    position: relative;\n  }\n\n  .wishlist-card:hover {\n    transform: translateY(-4px);\n    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);\n  }\n\n  .wishlist-image-container {\n    position: relative;\n    overflow: hidden;\n    height: 250px;\n    background: var(--bg-light);\n  }\n\n  .wishlist-image {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    transition: transform 0.3s ease;\n  }\n\n  .wishlist-card:hover .wishlist-image {\n    transform: scale(1.05);\n  }\n\n  .wishlist-remove-btn {\n    position: absolute;\n    top: 12px;\n    right: 12px;\n    width: 36px;\n    height: 36px;\n    border-radius: 50%;\n    background: rgba(255, 255, 255, 0.9);\n    border: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: all 0.2s ease;\n    z-index: 2;\n  }\n\n  .wishlist-remove-btn:hover {\n    background: var(--white);\n    transform: scale(1.1);\n  }\n\n  .wishlist-card-body {\n    padding: 1.5rem;\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n  }\n\n  .wishlist-product-title {\n    font-size: 1rem;\n    font-weight: 600;\n    color: var(--text-color-dark);\n    margin-bottom: 0.75rem;\n    line-height: 1.4;\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n  }\n\n  .wishlist-price-container {\n    margin-bottom: 1rem;\n  }\n\n  .wishlist-price-current {\n    font-size: 1.25rem;\n    font-weight: 700;\n    color: var(--primary-color);\n    margin-right: 0.5rem;\n  }\n\n  .wishlist-price-original {\n    font-size: 0.9rem;\n    color: var(--text-color-muted);\n    text-decoration: line-through;\n  }\n\n  .wishlist-discount-badge {\n    background: var(--accent-color);\n    color: white;\n    font-size: 0.75rem;\n    font-weight: 600;\n    padding: 0.25rem 0.5rem;\n    border-radius: 12px;\n    margin-left: 0.5rem;\n  }\n\n  .wishlist-buttons {\n    margin-top: auto;\n    display: flex;\n    flex-direction: column;\n    gap: 0.75rem;\n  }\n\n  .wishlist-add-to-cart-btn {\n    background: var(--primary-color);\n    border: none;\n    padding: 0.75rem 1rem;\n    border-radius: var(--border-radius);\n    font-weight: 600;\n    transition: all 0.2s ease;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 0.5rem;\n  }\n\n  .wishlist-add-to-cart-btn:hover {\n    background: var(--primary-color-dark);\n    transform: translateY(-1px);\n  }\n\n  .wishlist-view-btn {\n    border: 2px solid var(--border-color);\n    background: transparent;\n    color: var(--text-color-dark);\n    padding: 0.75rem 1rem;\n    border-radius: var(--border-radius);\n    font-weight: 500;\n    transition: all 0.2s ease;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 0.5rem;\n    text-decoration: none;\n  }\n\n  .wishlist-view-btn:hover {\n    border-color: var(--primary-color);\n    color: var(--primary-color);\n    background: var(--primary-color-light);\n  }\n\n  .wishlist-empty-state {\n    background: var(--white);\n    border-radius: var(--border-radius);\n    padding: 4rem 2rem;\n    text-align: center;\n    box-shadow: var(--shadow-sm);\n    border: 1px solid var(--border-color-light);\n  }\n\n  .wishlist-empty-icon {\n    width: 80px;\n    height: 80px;\n    margin: 0 auto 2rem;\n    color: var(--text-color-light);\n  }\n\n  .wishlist-empty-title {\n    font-size: 1.5rem;\n    font-weight: 600;\n    color: var(--text-color-dark);\n    margin-bottom: 1rem;\n  }\n\n  .wishlist-empty-text {\n    color: var(--text-color-medium);\n    margin-bottom: 2rem;\n    font-size: 1rem;\n  }\n\n  .wishlist-stats {\n    background: var(--white);\n    border-radius: var(--border-radius);\n    padding: 1.5rem;\n    margin-bottom: 2rem;\n    box-shadow: var(--shadow-sm);\n    border: 1px solid var(--border-color-light);\n  }\n\n  .wishlist-clear-btn {\n    background: transparent;\n    border: 2px solid var(--danger-color);\n    color: var(--danger-color);\n    padding: 0.5rem 1rem;\n    border-radius: var(--border-radius);\n    font-weight: 500;\n    transition: all 0.2s ease;\n  }\n\n  .wishlist-clear-btn:hover {\n    background: var(--danger-color);\n    color: white;\n  }\n\n  .wishlist-categories {\n    background: var(--white);\n    border-radius: var(--border-radius);\n    padding: 2rem;\n    margin-top: 3rem;\n    box-shadow: var(--shadow-sm);\n    border: 1px solid var(--border-color-light);\n  }\n\n  .wishlist-category-btn {\n    background: var(--bg-light);\n    border: 1px solid var(--border-color);\n    color: var(--text-color-dark);\n    padding: 0.5rem 1rem;\n    border-radius: 20px;\n    font-size: 0.9rem;\n    font-weight: 500;\n    transition: all 0.2s ease;\n    text-decoration: none;\n    display: inline-block;\n    margin: 0.25rem;\n  }\n\n  .wishlist-category-btn:hover {\n    background: var(--primary-color);\n    color: white;\n    border-color: var(--primary-color);\n  }\n\n  @media (max-width: 767.98px) {\n    .wishlist-page-wrapper {\n      padding: 1rem 0;\n    }\n\n    .wishlist-header {\n      padding: 1.5rem;\n      margin-bottom: 1.5rem;\n    }\n\n    .wishlist-title {\n      font-size: 1.5rem;\n    }\n\n    .wishlist-image-container {\n      height: 200px;\n    }\n\n    .wishlist-card-body {\n      padding: 1rem;\n    }\n\n    .wishlist-buttons {\n      flex-direction: column;\n    }\n  }\n",N=()=>{const N=g(),{manifest:_,isLoading:k}=c(),z=(null==_?void 0:_.wishlist)||[],[F,S]=d.useState(null),[L,C]=d.useState(null),A=z.reduce(((e,r)=>e+parseFloat(r.product_sale_price||r.product_price)),0),P=z.reduce(((e,r)=>e+parseFloat(r.product_price)),0)-A,T=r=>e(void 0,null,(function*(){try{C(r.product_id);const e=new u;e.id=r.product_id,e.name=r.product_name,e.price_1=r.product_sale_price||r.product_price,e.price_2=r.product_price,e.feature_photo=r.product_photo||"",N(x({product:e,quantity:1,variant:{}})),p.success(`${r.product_name} added to cart`)}catch(e){p.error("Failed to add to cart")}finally{C(null)}}));return k?r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:y}}),r.jsx("div",{className:"wishlist-page-wrapper",children:r.jsx(n,{children:r.jsx(s,{className:"justify-content-center",children:r.jsx(i,{md:6,className:"text-center",children:r.jsxs("div",{className:"wishlist-empty-state",children:[r.jsx(t,{animation:"border",variant:"primary",className:"mb-3"}),r.jsx("h3",{children:"Loading your wishlist..."}),r.jsx("p",{children:"Please wait while we fetch your saved items."})]})})})})})]}):r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:y}}),r.jsx("div",{className:"wishlist-page-wrapper",children:r.jsxs(n,{children:[r.jsx("div",{className:"wishlist-header",children:r.jsxs(s,{className:"align-items-center",children:[r.jsx(i,{md:8,children:r.jsxs("div",{className:"d-flex align-items-center mb-3 mb-md-0",children:[r.jsx(w,{className:"text-primary me-3",size:32}),r.jsxs("div",{children:[r.jsx("h1",{className:"wishlist-title",children:"My Wishlist"}),r.jsxs("p",{className:"wishlist-subtitle",children:[z.length," ",1===z.length?"item":"items"," saved for later"]})]})]})}),r.jsx(i,{md:4,className:"text-md-end",children:z.length>0&&r.jsxs("div",{className:"d-flex flex-column flex-md-row gap-2 justify-content-md-end",children:[r.jsxs(a,{variant:"outline-primary",size:"sm",onClick:()=>e(void 0,null,(function*(){if(window.confirm("Add all wishlist items to cart?"))try{const e=z.map((e=>T(e)));yield Promise.all(e),p.success("All items added to cart")}catch(e){p.error("Failed to add all items to cart")}})),disabled:null!==L,children:[r.jsx(b,{size:16,className:"me-2"}),"Add All to Cart"]}),r.jsxs(a,{className:"wishlist-clear-btn",size:"sm",onClick:()=>e(void 0,null,(function*(){if(window.confirm("Are you sure you want to clear your entire wishlist?"))try{const e=z.map((e=>N(h(e.product_id)).unwrap()));yield Promise.all(e),p.success("Wishlist cleared successfully")}catch(e){p.error("Failed to clear wishlist")}})),disabled:null!==F,children:[r.jsx(v,{size:16,className:"me-2"}),"Clear All"]})]})})]})}),z.length>0&&r.jsx("div",{className:"wishlist-stats",children:r.jsxs(s,{children:[r.jsxs(i,{md:4,className:"text-center mb-3 mb-md-0",children:[r.jsx("h4",{className:"text-primary mb-1",children:z.length}),r.jsx("p",{className:"mb-0 text-muted",children:"Items in Wishlist"})]}),r.jsxs(i,{md:4,className:"text-center mb-3 mb-md-0",children:[r.jsxs("h4",{className:"text-success mb-1",children:["UGX ",A.toLocaleString()]}),r.jsx("p",{className:"mb-0 text-muted",children:"Total Value"})]}),r.jsxs(i,{md:4,className:"text-center",children:[r.jsxs("h4",{className:"text-warning mb-1",children:["UGX ",P.toLocaleString()]}),r.jsx("p",{className:"mb-0 text-muted",children:"Total Savings"})]})]})}),0===z.length?r.jsx(s,{className:"justify-content-center",children:r.jsx(i,{lg:6,children:r.jsxs("div",{className:"wishlist-empty-state",children:[r.jsx(w,{className:"wishlist-empty-icon"}),r.jsx("h2",{className:"wishlist-empty-title",children:"Your wishlist is empty"}),r.jsx("p",{className:"wishlist-empty-text",children:"Discover amazing products and save your favorites for later! Start browsing our collection to build your perfect wishlist."}),r.jsx(m,{to:"/products",children:r.jsxs(a,{variant:"primary",size:"lg",children:[r.jsx(j,{size:20,className:"me-2"}),"Start Shopping"]})})]})})}):r.jsx(s,{children:z.map((n=>{const s=((e,r)=>{if(!r||r===e)return 0;const n=parseFloat(e),s=parseFloat(r);return Math.round((n-s)/n*100)})(n.product_price,n.product_sale_price);return r.jsx(i,{lg:3,md:4,sm:6,className:"mb-4",children:r.jsxs(o,{className:"wishlist-card",children:[r.jsxs("div",{className:"wishlist-image-container",children:[r.jsx("img",{src:n.product_photo?`http://127.0.0.1:8888/images/${n.product_photo}`:"/media/misc/image.png",alt:n.product_name,className:"wishlist-image",onError:e=>{e.target.src="/media/misc/image.png"}}),s>0&&r.jsxs(l,{className:"wishlist-discount-badge position-absolute",style:{top:"12px",left:"12px"},children:["-",s,"%"]}),r.jsx(a,{className:"wishlist-remove-btn",onClick:()=>{return r=n.product_id,e(void 0,null,(function*(){try{S(r),yield N(h(r)).unwrap(),p.success("Item removed from wishlist")}catch(e){p.error("Failed to remove from wishlist")}finally{S(null)}}));var r},disabled:F===n.product_id,children:F===n.product_id?r.jsx(t,{animation:"border",size:"sm"}):r.jsx(v,{size:16,className:"text-danger"})})]}),r.jsxs("div",{className:"wishlist-card-body",children:[r.jsx("h6",{className:"wishlist-product-title",children:n.product_name}),r.jsxs("div",{className:"wishlist-price-container",children:[r.jsxs("span",{className:"wishlist-price-current",children:["UGX ",parseFloat(n.product_sale_price||n.product_price).toLocaleString()]}),n.product_sale_price&&parseFloat(n.product_sale_price)<parseFloat(n.product_price)&&r.jsxs("span",{className:"wishlist-price-original",children:["UGX ",parseFloat(n.product_price).toLocaleString()]})]}),r.jsxs("div",{className:"wishlist-buttons",children:[r.jsxs(a,{className:"wishlist-add-to-cart-btn",onClick:()=>T(n),disabled:L===n.product_id,children:[L===n.product_id?r.jsx(t,{animation:"border",size:"sm"}):r.jsx(b,{size:16}),L===n.product_id?"Adding...":"Add to Cart"]}),r.jsxs(m,{to:`/product/${n.product_id}`,className:"wishlist-view-btn",children:[r.jsx(f,{size:16}),"View Details"]})]})]})]})},n.id)}))}),z.length>0&&r.jsxs("div",{className:"wishlist-categories",children:[r.jsxs("h4",{className:"mb-3 d-flex align-items-center",children:[r.jsx(j,{className:"me-2",size:24}),"Continue Shopping"]}),r.jsx("p",{className:"text-muted mb-3",children:"Discover more products in these popular categories"}),r.jsx("div",{className:"d-flex flex-wrap",children:["Electronics","Fashion","Home & Garden","Sports & Fitness","Beauty & Health","Books & Media"].map((e=>r.jsx(m,{to:`/category/${e.toLowerCase().replace(/\s+/g,"-")}`,className:"wishlist-category-btn",children:e},e)))})]})]})})]})};export{N as default};
