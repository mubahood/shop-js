var n=Object.defineProperty,r=Object.defineProperties,e=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,i=(r,e,a)=>e in r?n(r,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[e]=a,s=(n,r)=>{for(var e in r||(r={}))o.call(r,e)&&i(n,e,r[e]);if(a)for(var e of a(r))t.call(r,e)&&i(n,e,r[e]);return n},l=(n,a)=>r(n,e(a));import{j as d,a as c,R as p,b as m,c as f,B as x,F as g,d as b,S as h,A as u,P as v}from"./vendor-bootstrap-DcTIMiez.js";import{r as j}from"./vendor-react-CSr-5IoM.js";import{d as y}from"./vendor-router-B5VXrYKF.js";import{g as w,u as N}from"./index-CJKYBBy9.js";import{P as k}from"./ProductCard-ZrMdfmtX.js";import{D as _}from"./DynamicBreadcrumb-CFrteDom.js";import"./vendor-redux-DhM9Zidd.js";import"./vendor-query-CMt9O1ha.js";import"./index-DrZGrglc.js";if("undefined"!=typeof document){const n="products-page-styles";if(!document.getElementById(n)){const r=document.createElement("style");r.id=n,r.textContent="\n  .products-page {\n    background: var(--background-light, #ffffff);\n  }\n\n  .products-header {\n    padding: 0;\n    margin-bottom: 12px;\n  }\n\n  .page-title {\n    font-size: 20px;\n    font-weight: 600;\n    margin: 0;\n    color: var(--text-color-dark, #212529);\n    height: 20px;\n  }\n\n  .products-count {\n    font-size: 13px;\n    color: var(--text-color-medium, #6c757d);\n    margin: 0;\n  }\n\n  .sort-dropdown {\n    min-width: 180px;\n    font-size: 13px;\n    border: 1px solid var(--border-color, #dee2e6);\n    border-radius: var(--border-radius, 4px);\n    color: var(--text-color-dark, #212529);\n  }\n\n  .sort-dropdown:focus {\n    border-color: var(--primary-color, #007bff);\n    box-shadow: 0 0 0 0.2rem rgba(var(--primary-color-rgb, 0, 123, 255), 0.25);\n  }\n\n  .filters-sidebar {\n    padding: 0;\n  }\n\n  .filters-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 16px;\n    padding: 16px;\n    border-bottom: 1px solid var(--border-color-light, #f1f3f4);\n  }\n\n  .filters-title {\n    font-size: 16px;\n    font-weight: 600;\n    margin: 0;\n    color: var(--text-color-dark, #212529);\n  }\n\n  .filters-toggle-btn {\n    background: var(--white, #ffffff);\n    border: 1px solid var(--border-color, #dee2e6);\n    border-radius: var(--border-radius, 4px);\n    color: var(--text-color-dark, #212529);\n    padding: 8px 12px;\n    font-size: 12px;\n    font-weight: 500;\n    transition: all 0.2s ease;\n    display: none;\n    align-items: center;\n    gap: 6px;\n    cursor: pointer;\n    white-space: nowrap;\n  }\n\n  .filters-toggle-btn:hover {\n    background: var(--primary-color, #007bff);\n    border-color: var(--primary-color, #007bff);\n    color: var(--white, #ffffff);\n  }\n\n  .filters-toggle-btn:focus {\n    outline: none;\n    box-shadow: 0 0 0 0.2rem rgba(var(--primary-color-rgb, 0, 123, 255), 0.25);\n  }\n\n  .filters-content {\n    padding: 0 16px 16px 16px;\n    transition: max-height 0.3s ease, opacity 0.3s ease;\n    overflow: hidden;\n  }\n\n  .filters-content.collapsed {\n    max-height: 0;\n    opacity: 0;\n    padding: 0 16px;\n  }\n\n  .filter-group {\n    margin-bottom: 16px;\n  }\n\n  .filter-label {\n    font-size: 13px;\n    font-weight: 500;\n    margin: 0 0 6px 0;\n    color: var(--text-color-dark, #212529);\n    display: block;\n  }\n\n  .filter-select {\n    border: 1px solid var(--border-color, #dee2e6);\n    border-radius: var(--border-radius, 4px);\n    font-size: 13px;\n    padding: 8px;\n    color: var(--text-color-dark, #212529);\n  }\n\n  .filter-select:focus {\n    border-color: var(--primary-color, #007bff);\n    box-shadow: 0 0 0 0.2rem rgba(var(--primary-color-rgb, 0, 123, 255), 0.25);\n  }\n\n  .price-inputs {\n    display: flex;\n    gap: 8px;\n    margin: 0 0 8px 0;\n  }\n\n  .price-input {\n    border: 1px solid var(--border-color, #dee2e6);\n    border-radius: var(--border-radius, 4px);\n    font-size: 13px;\n    padding: 8px;\n    color: var(--text-color-dark, #212529);\n  }\n\n  .price-input:focus {\n    border-color: var(--primary-color, #007bff);\n    box-shadow: 0 0 0 0.2rem rgba(var(--primary-color-rgb, 0, 123, 255), 0.25);\n  }\n\n  .price-separator {\n    align-self: center;\n    color: var(--text-color-medium, #6c757d);\n    font-size: 13px;\n  }\n\n  .apply-price-btn {\n    border: 1px solid var(--primary-color, #007bff);\n    border-radius: var(--border-radius, 4px);\n    background: var(--white, #ffffff);\n    color: var(--primary-color, #007bff);\n    font-size: 12px;\n    padding: 12px;\n    width: 100%;\n    font-weight: 500;\n    transition: all 0.2s ease;\n  }\n\n  .apply-price-btn:hover {\n    background: var(--primary-color, #007bff);\n    color: var(--white, #ffffff);\n    border-color: var(--primary-color, #007bff);\n  }\n\n  .clear-filters-btn {\n    font-size: 12px;\n    color: var(--text-color-medium, #6c757d);\n    padding: 0;\n    text-decoration: none;\n    border: none;\n    background: none;\n  }\n\n  .clear-filters-btn:hover {\n    color: var(--primary-color, #007bff);\n    text-decoration: underline;\n  }\n\n  .active-filters {\n    margin-top: 16px;\n    padding-top: 16px;\n    border-top: 1px solid var(--border-color-light, #f1f3f4);\n  }\n\n  .filter-tags {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 6px;\n  }\n\n  .filter-tag {\n    cursor: pointer;\n    font-size: 11px;\n    background: var(--primary-color, #007bff);\n    color: var(--white, #ffffff);\n    border: none;\n    border-radius: var(--border-radius-sm, 2px);\n    padding: 4px 8px;\n    transition: all 0.2s ease;\n  }\n\n  .filter-tag:hover {\n    background: var(--primary-color-dark, #0056b3);\n  }\n\n  .filter-tag-remove {\n    margin-left: 4px;\n    font-weight: normal;\n  }\n\n  .products-grid {\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n    gap: 16px;\n    margin: 0;\n  }\n\n  .loading-state, .empty-state {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding: 40px 16px;\n    text-align: center;\n    background: var(--white, #ffffff);\n  }\n\n  .empty-icon {\n    font-size: 48px;\n    color: var(--text-color-light, #adb5bd);\n    margin-bottom: 16px;\n  }\n\n  .empty-title {\n    font-size: 18px;\n    font-weight: 500;\n    margin: 0 0 8px 0;\n    color: var(--text-color-dark, #212529);\n  }\n\n  .empty-description {\n    font-size: 14px;\n    color: var(--text-color-medium, #6c757d);\n    margin: 0 0 16px 0;\n  }\n\n  .empty-action-btn {\n    border: 1px solid var(--primary-color, #007bff);\n    border-radius: var(--border-radius, 4px);\n    background: var(--primary-color, #007bff);\n    color: var(--white, #ffffff);\n    font-size: 13px;\n    padding: 8px 16px;\n    transition: all 0.2s ease;\n  }\n\n  .empty-action-btn:hover {\n    background: var(--primary-color-dark, #0056b3);\n    border-color: var(--primary-color-dark, #0056b3);\n  }\n\n  .pagination-section {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-top: 24px;\n    padding: 20px 0;\n    background: var(--white, #ffffff);\n    border-top: 1px solid var(--border-color-light, #f1f3f4);\n  }\n\n  .pagination-text {\n    font-size: 13px;\n    color: var(--text-color-medium, #6c757d);\n    font-weight: 500;\n  }\n\n  .custom-pagination {\n    margin: 0;\n  }\n\n  .custom-pagination .page-link {\n    border: 1px solid var(--border-color, #dee2e6);\n    border-radius: var(--border-radius, 4px);\n    color: var(--text-color-dark, #212529);\n    background: var(--white, #ffffff);\n    font-size: 13px;\n    padding: 8px 12px;\n    margin: 0 2px;\n    font-weight: 500;\n    transition: all 0.2s ease;\n    text-decoration: none;\n  }\n\n  .custom-pagination .page-link:hover {\n    background: var(--primary-color, #007bff);\n    border-color: var(--primary-color, #007bff);\n    color: var(--white, #ffffff);\n  }\n\n  .custom-pagination .page-item.active .page-link {\n    background: var(--primary-color, #007bff);\n    border-color: var(--primary-color, #007bff);\n    color: var(--white, #ffffff);\n  }\n\n  .custom-pagination .page-item.disabled .page-link {\n    color: var(--text-color-light, #adb5bd);\n    background: var(--background-light, #f8f9fa);\n    border-color: var(--border-color-light, #f1f3f4);\n    cursor: not-allowed;\n  }\n\n  .custom-pagination .page-item.disabled .page-link:hover {\n    background: var(--background-light, #f8f9fa);\n    border-color: var(--border-color-light, #f1f3f4);\n    color: var(--text-color-light, #adb5bd);\n  }\n\n  /* Enhanced pagination styles */\n  .pagination-controls {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n  }\n\n  .pagination-info {\n    display: flex;\n    align-items: center;\n  }\n\n  @media (max-width: 991px) {\n    .products-grid {\n      grid-template-columns: repeat(3, 1fr);\n      gap: 14px;\n    }\n\n    .pagination-section {\n      flex-direction: column;\n      gap: 16px;\n      text-align: center;\n    }\n  }\n\n  @media (max-width: 767px) {\n    .products-grid {\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px;\n    }\n    \n    .page-title {\n      font-size: 18px;\n    }\n\n    .sort-dropdown {\n      min-width: 140px;\n    }\n\n    .custom-pagination .page-link {\n      padding: 6px 8px;\n      font-size: 12px;\n    }\n\n    .filters-toggle-btn {\n      display: inline-flex;\n      align-items: center;\n      gap: 6px;\n    }\n\n    .filters-header {\n      margin-bottom: 0;\n      padding-bottom: 16px;\n    }\n\n    .filters-content {\n      padding-top: 0;\n    }\n\n    .filters-content.collapsed {\n      padding-top: 0;\n      padding-bottom: 0;\n    }\n  }\n",document.head.appendChild(r)}}const z=()=>{var n;const[r,e]=y(),[a,o]=j.useState(1),[t,i]=j.useState("created_at"),[z,C]=j.useState("desc"),[P,S]=j.useState(),[F,O]=j.useState({min:"",max:""}),[E,L]=j.useState(!1),[A,$]=j.useState(!1);j.useEffect((()=>{const n=()=>{$(window.innerWidth<=767),L(window.innerWidth>767)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)}),[]),j.useEffect((()=>{const n=parseInt(r.get("page")||"1"),e=r.get("category"),a=r.get("sort_by")||"created_at",t=r.get("sort_order")||"desc",s=r.get("min_price")||"",l=r.get("max_price")||"";o(n),i(a),C(t),S(e?parseInt(e):void 0),O({min:s,max:l})}),[r]);const{data:I,isLoading:B,error:M}=w({page:a,limit:24,category:P,sort_by:t,sort_order:z,min_price:F.min?parseFloat(F.min):void 0,max_price:F.max?parseFloat(F.max):void 0,search:r.get("search")||void 0}),D=N(),R=(null==I?void 0:I.data)||[],H=(null==I?void 0:I.last_page)||1,q=n=>{const a=new URLSearchParams(r);Object.entries(n).forEach((([n,r])=>{void 0!==r&&""!==r?a.set(n,r.toString()):a.delete(n)})),e(a)},T=n=>{var r;o(n),q({page:n}),null==(r=document.querySelector(".products-header"))||r.scrollIntoView({behavior:"smooth",block:"start"})},U=n=>{const r=n?parseInt(n):void 0;S(r),o(1),q({category:r,page:1})},V=()=>{S(void 0),O({min:"",max:""}),i("created_at"),C("desc"),o(1),e({})};return d.jsxs(d.Fragment,{children:[d.jsx(_,{context:{categories:D,selectedCategory:P,searchTerm:r.get("search")||void 0},showBackground:!0,showIcons:!0}),d.jsx(c,{children:d.jsxs(p,{children:[d.jsx(m,{md:3,className:"my-0",children:d.jsx(f,{className:"shadow-sm border-0",children:d.jsx(f.Body,{children:d.jsxs("div",{className:"filters-sidebar",children:[d.jsxs("div",{className:"filters-header",children:[d.jsx("h6",{className:"filters-title",children:"Product Filters"}),d.jsxs("div",{className:"d-flex align-items-center gap-2",children:[(P||F.min||F.max)&&d.jsx(x,{variant:"link",size:"sm",className:"clear-filters-btn p-0",onClick:V,children:"Clear All"}),A&&d.jsxs("button",{className:"filters-toggle-btn",onClick:()=>L(!E),children:[d.jsx("span",{children:E?"Hide":"Show"}),d.jsx("span",{style:{fontSize:"10px",marginLeft:"2px"},children:E?"▲":"▼"})]})]})]}),d.jsxs("div",{className:"filters-content "+(E?"":"collapsed"),children:[d.jsxs("div",{className:"filter-group",children:[d.jsx("label",{className:"filter-label",children:"Category"}),d.jsxs(g.Select,{size:"sm",className:"filter-select",value:P||"",onChange:n=>U(n.target.value),children:[d.jsx("option",{value:"",children:"All Categories"}),null==D?void 0:D.map((n=>d.jsx("option",{value:n.id,children:n.category},n.id)))]})]}),d.jsxs("div",{className:"filter-group",children:[d.jsx("label",{className:"filter-label",children:"Price Range"}),d.jsxs("div",{className:"price-inputs",children:[d.jsx(g.Control,{type:"number",size:"sm",placeholder:"Min",className:"price-input",value:F.min,onChange:n=>O((r=>l(s({},r),{min:n.target.value})))}),d.jsx("span",{className:"price-separator",children:"-"}),d.jsx(g.Control,{type:"number",size:"sm",placeholder:"Max",className:"price-input",value:F.max,onChange:n=>O((r=>l(s({},r),{max:n.target.value})))})]}),d.jsx(x,{className:"apply-price-btn mt-2",onClick:()=>{o(1),q({min_price:F.min,max_price:F.max,page:1})},children:"Apply Filters"})]}),(P||F.min||F.max)&&d.jsxs("div",{className:"active-filters",children:[d.jsx("label",{className:"filter-label",children:"Active Filters"}),d.jsxs("div",{className:"filter-tags",children:[P&&D&&d.jsxs(b,{bg:"primary",className:"filter-tag",onClick:()=>U(""),role:"button",children:[null==(n=D.find((n=>n.id===P)))?void 0:n.category,d.jsx("span",{className:"filter-tag-remove",children:"×"})]}),(F.min||F.max)&&d.jsxs(b,{bg:"primary",className:"filter-tag",onClick:()=>{O({min:"",max:""}),q({min_price:void 0,max_price:void 0})},role:"button",children:[F.min&&F.max?`${F.min} - ${F.max}`:F.min?`From ${F.min}`:`Up to ${F.max}`,d.jsx("span",{className:"filter-tag-remove",children:"×"})]})]})]})]})]})})})}),d.jsx(m,{md:9,className:"my-0",children:d.jsx(f,{className:"border-0 shadow-sm",children:d.jsxs(f.Body,{children:[d.jsx("div",{className:"products-header mb-3",children:d.jsxs(p,{className:"align-items-center",children:[d.jsx(m,{md:8,children:d.jsxs("div",{className:"page-title-section text-start",children:[d.jsx("h1",{className:"page-title",children:(()=>{if(r.get("deals"))return"Flash Deals";if(r.get("search"))return`Search Results for "${r.get("search")}"`;if(P&&D){const n=D.find((n=>n.id===P));return n?`${n.category} Products`:"Products"}return"All Products"})()}),I&&d.jsxs("p",{className:"products-count",children:[I.total.toLocaleString()," product",1!==I.total?"s":""," found"]})]})}),d.jsx(m,{md:4,children:d.jsx("div",{className:"sort-controls text-end",children:d.jsxs(g.Select,{size:"sm",className:"sort-dropdown",value:`${t}_${z}`,onChange:n=>{const[r,e]=n.target.value.split("_");((n,r)=>{i(n),C(r),o(1),q({sort_by:n,sort_order:r,page:1})})(r,e)},children:[d.jsx("option",{value:"created_at_desc",children:"Newest First"}),d.jsx("option",{value:"created_at_asc",children:"Oldest First"}),d.jsx("option",{value:"price_1_asc",children:"Price: Low to High"}),d.jsx("option",{value:"price_1_desc",children:"Price: High to Low"}),d.jsx("option",{value:"name_asc",children:"Name: A to Z"}),d.jsx("option",{value:"name_desc",children:"Name: Z to A"})]})})})]})}),B&&d.jsxs("div",{className:"loading-state",children:[d.jsx(h,{animation:"border",variant:"primary"}),d.jsx("p",{children:"Loading products..."})]}),M&&d.jsx("div",{className:"error-state",children:d.jsxs(u,{variant:"danger",className:"error-alert",children:[d.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),"Error loading products. Please try again."]})}),!B&&!M&&0===R.length&&d.jsxs("div",{className:"empty-state",children:[d.jsx("i",{className:"bi bi-box-seam empty-icon"}),d.jsx("h4",{className:"empty-title",children:"No products found"}),d.jsx("p",{className:"empty-description",children:"Try adjusting your filters or search terms to find what you're looking for."}),d.jsxs(x,{variant:"primary",onClick:V,className:"empty-action-btn",children:[d.jsx("i",{className:"bi bi-arrow-clockwise me-2"}),"View All Products"]})]}),!B&&!M&&R.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"products-grid",children:R.map((n=>d.jsx("div",{className:"product-item",children:d.jsx(k,{product:n})},n.id)))}),H>1&&d.jsxs("div",{className:"pagination-section",children:[d.jsx("div",{className:"pagination-info",children:d.jsxs("span",{className:"pagination-text",children:["Showing ",24*(a-1)+1," to"," ",Math.min(24*a,(null==I?void 0:I.total)||0)," ","of ",(null==I?void 0:I.total)||0," products"]})}),d.jsx("div",{className:"pagination-controls",children:d.jsxs(v,{className:"custom-pagination",children:[d.jsx(v.First,{disabled:1===a,onClick:()=>T(1)}),d.jsx(v.Prev,{disabled:1===a,onClick:()=>T(a-1)}),(()=>{const n=[],r=[];for(let e=Math.max(2,a-2);e<=Math.min(H-1,a+2);e++)n.push(e);return a-2>2?r.push(1,"..."):r.push(1),r.push(...n),a+2<H-1?r.push("...",H):H>1&&r.push(H),r.map(((n,r)=>"..."===n?d.jsx(v.Ellipsis,{disabled:!0},`ellipsis-${r}`):d.jsx(v.Item,{active:n===a,onClick:()=>T(n),children:n},n)))})(),d.jsx(v.Next,{disabled:a===H,onClick:()=>T(a+1)}),d.jsx(v.Last,{disabled:a===H,onClick:()=>T(H)})]})})]})]})]})})})]})})]})};export{z as default};
