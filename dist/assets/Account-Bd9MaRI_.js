import{r as d,j as a,u as A,c as K,q as M,G as H,e as F,g as G,L as V,ae as Y,T as z,af as J}from"./index-Ck1B39s_.js";import{u as Q}from"./hook-BpSSKWeX.js";import{d as O,a as X,q as Z}from"./DataKey-COGXBUcQ.js";import{S as $,N as E,m as S,u as ee,c as te}from"./NavbarContext-BReETKAz.js";import{u as ae}from"./useMergedRefs-Doi0DguT.js";import{u as ne,A as se}from"./Anchor-D3rNWf9j.js";import{B as ce}from"./Button-BlOqttEG.js";import{c as oe}from"./CardHeaderContext-BNHv2GZa.js";const k=d.createContext(null),re=["as","active","eventKey"];function le(t,c){if(t==null)return{};var n={};for(var e in t)if({}.hasOwnProperty.call(t,e)){if(c.indexOf(e)>=0)continue;n[e]=t[e]}return n}function D({key:t,onClick:c,active:n,id:e,role:r,disabled:o}){const i=d.useContext($),l=d.useContext(E),s=d.useContext(k);let f=n;const u={role:r};if(l){!r&&l.role==="tablist"&&(u.role="tab");const v=l.getControllerId(t??null),p=l.getControlledId(t??null);u[O("event-key")]=t,u.id=v||e,f=n==null&&t!=null?l.activeKey===t:n,(f||!(s!=null&&s.unmountOnExit)&&!(s!=null&&s.mountOnEnter))&&(u["aria-controls"]=p)}return u.role==="tab"&&(u["aria-selected"]=f,f||(u.tabIndex=-1),o&&(u.tabIndex=-1,u["aria-disabled"]=!0)),u.onClick=ne(v=>{o||(c==null||c(v),t!=null&&i&&!v.isPropagationStopped()&&i(t,v))}),[u,{isActive:f}]}const _=d.forwardRef((t,c)=>{let{as:n=ce,active:e,eventKey:r}=t,o=le(t,re);const[i,l]=D(Object.assign({key:S(r,o.href),active:e},o));return i[O("active")]=l.isActive,a.jsx(n,Object.assign({},o,i,{ref:c}))});_.displayName="NavItem";const ie=["as","onSelect","activeKey","role","onKeyDown"];function ue(t,c){if(t==null)return{};var n={};for(var e in t)if({}.hasOwnProperty.call(t,e)){if(c.indexOf(e)>=0)continue;n[e]=t[e]}return n}const R=()=>{},P=O("event-key"),B=d.forwardRef((t,c)=>{let{as:n="div",onSelect:e,activeKey:r,role:o,onKeyDown:i}=t,l=ue(t,ie);const s=ee(),f=d.useRef(!1),u=d.useContext($),v=d.useContext(k);let p,b;v&&(o=o||"tablist",r=v.activeKey,p=v.getControlledId,b=v.getControllerId);const h=d.useRef(null),N=m=>{const x=h.current;if(!x)return null;const I=Z(x,`[${P}]:not([aria-disabled=true])`),w=x.querySelector("[aria-selected=true]");if(!w||w!==document.activeElement)return null;const L=I.indexOf(w);if(L===-1)return null;let C=L+m;return C>=I.length&&(C=0),C<0&&(C=I.length-1),I[C]},j=(m,x)=>{m!=null&&(e==null||e(m,x),u==null||u(m,x))},y=m=>{if(i==null||i(m),!v)return;let x;switch(m.key){case"ArrowLeft":case"ArrowUp":x=N(-1);break;case"ArrowRight":case"ArrowDown":x=N(1);break;default:return}x&&(m.preventDefault(),j(x.dataset[X("EventKey")]||null,m),f.current=!0,s())};d.useEffect(()=>{if(h.current&&f.current){const m=h.current.querySelector(`[${P}][aria-selected=true]`);m==null||m.focus()}f.current=!1});const W=ae(c,h);return a.jsx($.Provider,{value:j,children:a.jsx(E.Provider,{value:{role:o,activeKey:S(r),getControlledId:p||R,getControllerId:b||R},children:a.jsx(n,Object.assign({},l,{onKeyDown:y,ref:W,role:o}))})})});B.displayName="Nav";const de=Object.assign(B,{Item:_}),T=d.forwardRef(({className:t,bsPrefix:c,as:n="div",...e},r)=>(c=A(c,"nav-item"),a.jsx(n,{ref:r,className:K(t,c),...e})));T.displayName="NavItem";const q=d.forwardRef(({bsPrefix:t,className:c,as:n=se,active:e,eventKey:r,disabled:o=!1,...i},l)=>{t=A(t,"nav-link");const[s,f]=D({key:S(r,i.href),active:e,disabled:o,...i});return a.jsx(n,{...i,...s,ref:l,disabled:o,className:K(c,t,o&&"disabled",f.isActive&&"active")})});q.displayName="NavLink";const U=d.forwardRef((t,c)=>{const{as:n="div",bsPrefix:e,variant:r,fill:o=!1,justify:i=!1,navbar:l,navbarScroll:s,className:f,activeKey:u,...v}=Q(t,{activeKey:"onSelect"}),p=A(e,"nav");let b,h,N=!1;const j=d.useContext(te),y=d.useContext(oe);return j?(b=j.bsPrefix,N=l??!0):y&&({cardHeaderBsPrefix:h}=y),a.jsx(de,{as:n,ref:c,activeKey:u,className:K(f,{[p]:!N,[`${b}-nav`]:N,[`${b}-nav-scroll`]:N&&s,[`${h}-${r}`]:!!h,[`${p}-${r}`]:!!r,[`${p}-fill`]:o,[`${p}-justified`]:i}),...v})});U.displayName="Nav";const g=Object.assign(U,{Item:T,Link:q}),fe=()=>{var l;const t=M(),c=H(),n=F(),{user:e}=G(s=>s.auth),r=[{id:"dashboard",label:"Dashboard",icon:"bi-house",path:"/account"},{id:"orders",label:"My Orders",icon:"bi-bag-check",path:"/account/orders"},{id:"wishlist",label:"Wishlist",icon:"bi-heart",path:"/account/wishlist"},{id:"profile",label:"Profile",icon:"bi-person",path:"/account/profile"}],o=s=>s==="/account"?t.pathname==="/account":t.pathname.startsWith(s),i=()=>{n(Y()),z.logoutSuccess(),c("/")};return a.jsxs("div",{className:"acc-sidebar-container",children:[a.jsxs("div",{className:"acc-sidebar-header",children:[a.jsx("div",{className:"acc-user-avatar",children:a.jsx("i",{className:"bi bi-person-circle"})}),a.jsxs("div",{className:"acc-user-info",children:[a.jsx("h5",{className:"acc-user-name",children:e!=null&&e.first_name&&(e!=null&&e.last_name)?`${e.first_name} ${e.last_name}`:((l=e==null?void 0:e.email)==null?void 0:l.split("@")[0])||"My Account"}),a.jsx("p",{className:"acc-user-email",children:e==null?void 0:e.email})]})]}),a.jsxs(g,{className:"acc-sidebar-nav",children:[r.map(s=>a.jsx(g.Item,{className:"acc-nav-item",children:a.jsxs(g.Link,{as:V,to:s.path,className:`acc-nav-link ${o(s.path)?"active":""}`,children:[a.jsx("i",{className:`${s.icon} acc-nav-icon`}),a.jsx("span",{className:"acc-nav-text",children:s.label})]})},s.id)),a.jsx(g.Item,{className:"acc-nav-item",children:a.jsxs(g.Link,{onClick:i,className:"acc-nav-link acc-logout-link",role:"button",children:[a.jsx("i",{className:"bi-box-arrow-right acc-nav-icon"}),a.jsx("span",{className:"acc-nav-text",children:"Logout"})]})})]})]})},ve=()=>a.jsx("div",{className:"container",children:a.jsxs("div",{className:"account-layout-container",children:[a.jsx("div",{className:"account-sidebar-wrapper",children:a.jsx(fe,{})}),a.jsx("div",{className:"account-content-wrapper",children:a.jsx(J,{})})]})}),ge=()=>a.jsx(ve,{});export{ge as default};
