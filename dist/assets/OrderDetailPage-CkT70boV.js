import{ah as m,I as u,r as n,j as e,z as d,ai as y,ag as g,K as p}from"./index-UmL11Jau.js";const N=()=>{const{id:i}=m(),a=u(),[r,o]=n.useState(null),[h,x]=n.useState(!0),[l,j]=n.useState("");n.useEffect(()=>{(async()=>{try{const s=await y(`orders/${i}`,{});if(s.code!==1)throw new Error(s.message||"Failed to fetch order details.");o(g.fromJson(s.data))}catch(s){j(s.toString()),p.error("Failed to load order details",{autoClose:3e3})}finally{x(!1)}})()},[i]);const c=t=>{try{const s=JSON.parse(t);return Array.isArray(s)?s:[]}catch{return[]}};return h?e.jsx(d.div,{className:"container py-5 text-center",initial:{opacity:0},animate:{opacity:1},children:e.jsx("h2",{children:"Loading order details..."})}):l||!r?e.jsxs(d.div,{className:"container py-5 text-center",initial:{opacity:0},animate:{opacity:1},children:[e.jsx("h2",{children:"Error loading order details"}),e.jsx("p",{children:l}),e.jsx("button",{className:"btn btn-primary",onClick:()=>a(-1),children:"Go Back"})]}):e.jsxs(d.div,{className:"container py-5",initial:{opacity:0},animate:{opacity:1},children:[e.jsx("button",{className:"btn btn-link mb-3",onClick:()=>a(-1),children:"← Back to My Orders"}),e.jsxs("h1",{className:"mb-4 text-center",style:{fontWeight:"bold",color:"#114786"},children:["Order Details (ID: ",r.id,")"]}),e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-md-8",children:e.jsx("div",{className:"card shadow-sm",children:e.jsxs("div",{className:"card-body",children:[e.jsx("table",{className:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:"Date:"})}),e.jsx("td",{children:r.created_at||"N/A"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:"Status:"})}),e.jsx("td",{children:r.getOrderStatus()})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:"Total:"})}),e.jsxs("td",{children:["UGX ",r.order_total||"N/A"]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:"Payment Confirmation:"})}),e.jsx("td",{children:r.payment_confirmation||"Not confirmed"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:"Delivery Method:"})}),e.jsx("td",{children:r.delivery_method||"N/A"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:"Shipping Cost:"})}),e.jsxs("td",{children:["UGX ",r.delivery_amount||"0.00"]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:"Payable Amount:"})}),e.jsxs("td",{children:["UGX ",r.payable_amount||"N/A"]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:"Customer Name:"})}),e.jsx("td",{children:r.customer_name||"N/A"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:"Email:"})}),e.jsx("td",{children:r.mail||"N/A"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:"Phone:"})}),e.jsx("td",{children:r.customer_phone_number_1||"N/A"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:"Address:"})}),e.jsxs("td",{children:[r.delivery_address_text," -"," ",r.delivery_address_details]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:"Order Instructions:"})}),e.jsx("td",{children:r.order_details||"N/A"})]})]})}),e.jsx("h5",{className:"mt-4",children:"Order Items:"}),c(r.items).length>0?e.jsx("ul",{className:"list-group",children:c(r.items).map((t,s)=>e.jsxs("li",{className:"list-group-item",children:[e.jsx("strong",{children:t.name})," - Quantity: ",t.quantity,", Price: UGX ",t.price]},s))}):e.jsx("p",{children:"No items found"})]})})})}),e.jsx("style",{children:`
          .table {
            font-size: 16px;
            background: #fff;
          }
          .list-group-item {
            background: #f8f9fa;
            font-family: "Arial", sans-serif;
          }
        `})]})};export{N as default};
